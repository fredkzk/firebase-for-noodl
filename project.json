{"name":"Firebase","components":[{"name":"/#Supabase Prefab/Supabase Prefab/Core/Supabase - Example Request","id":"1daf7e2b-3e0c-f385-2825-e70815943b03","graph":{"connections":[{"fromId":"720f4070-02a3-6ab5-1251-a4b6887bcbfc","fromProperty":"Do","toId":"8e4ac32b-4016-1a56-779f-4038ee720778","toProperty":"run"},{"fromId":"8e4ac32b-4016-1a56-779f-4038ee720778","fromProperty":"out-Success","toId":"0417eae1-8a32-821c-f2a8-43bbeeca5f34","toProperty":"Success"},{"fromId":"8e4ac32b-4016-1a56-779f-4038ee720778","fromProperty":"out-Failure","toId":"0417eae1-8a32-821c-f2a8-43bbeeca5f34","toProperty":"Failure"},{"fromId":"8e4ac32b-4016-1a56-779f-4038ee720778","fromProperty":"out-Companies","toId":"0417eae1-8a32-821c-f2a8-43bbeeca5f34","toProperty":"Companies"}],"roots":[{"id":"720f4070-02a3-6ab5-1251-a4b6887bcbfc","type":"Component Inputs","x":-222,"y":56,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"0417eae1-8a32-821c-f2a8-43bbeeca5f34","type":"Component Outputs","x":219,"y":57,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Companies","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"8e4ac32b-4016-1a56-779f-4038ee720778","type":"JavaScriptFunction","label":"Fetch Companies from Supabase","x":-10,"y":29,"parameters":{"functionScript":"\nconst supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\ntry {\n  const { data, error } = await supabase.from('companies').select('*');\n\n  if (error) {\n    console.error(error)\n    Outputs.Failure();\n  } else {\n    Outputs.Companies = data;\n    Outputs.Success();\n  }\n} catch (error) {\n    console.error(error)\n  Outputs.Failure();\n}\n"},"ports":[],"dynamicports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Companies","displayName":"Companies","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"AiAssistant":"fe790436-a75c-4c63-5dd5-54d2585953aa.json","merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[],"comments":[{"text":"To fetch data from supabase, you have to write a javascript function using the Noodl.Variables.supabase client.\n\nWith Noodl AI, you can create a function with the following prompt as a base to work on :\n\"Create a function that uses supabase javascript client called Noodl.Variables.supabase to retrieve records from the table companies\"\n\n(which gave te result in the function node below)\n","width":362,"height":219,"fill":true,"x":-119,"y":-229,"id":"82412887-cb6f-b470-de62-e304473a012b"}]}},{"name":"/#Supabase Prefab/Supabase Prefab/Core/Supabase - Setup Client","id":"25fbfc66-759b-cc62-c47c-5921dcadb6fc","graph":{"connections":[{"fromId":"4021343f-a621-616f-c7c4-63444a1e8739","fromProperty":"out-Success","toId":"e4bfa95e-bb88-3b0f-324a-c55f3ff3c01f","toProperty":"Success"},{"fromId":"a9254b91-f3af-25d3-aa85-2fef59d18dd7","fromProperty":"savedValue","toId":"f8265308-84b9-7c2f-1cb1-c7349598d4db","toProperty":"value"},{"fromId":"409fe62d-2382-ef8e-92fe-c97710daf632","fromProperty":"changed","toId":"a9254b91-f3af-25d3-aa85-2fef59d18dd7","toProperty":"saveValue"},{"fromId":"f6de8cda-cc8c-c354-1a30-0819edee0ce8","fromProperty":"savedValue","toId":"409fe62d-2382-ef8e-92fe-c97710daf632","toProperty":"value"},{"fromId":"395794ff-5211-5874-b362-128c95a5f011","fromProperty":"Do","toId":"f6de8cda-cc8c-c354-1a30-0819edee0ce8","toProperty":"saveValue"},{"fromId":"f8265308-84b9-7c2f-1cb1-c7349598d4db","fromProperty":"changed","toId":"4021343f-a621-616f-c7c4-63444a1e8739","toProperty":"run"},{"fromId":"395794ff-5211-5874-b362-128c95a5f011","fromProperty":"Supabase URL","toId":"2ef8b893-6627-2a70-5125-342c15db037f","toProperty":"value"},{"fromId":"2ef8b893-6627-2a70-5125-342c15db037f","fromProperty":"savedValue","toId":"4021343f-a621-616f-c7c4-63444a1e8739","toProperty":"in-supabaseUrl"},{"fromId":"395794ff-5211-5874-b362-128c95a5f011","fromProperty":"Supabase Anon Key","toId":"0824f793-10a0-0f96-53c9-2424ad15e908","toProperty":"value"},{"fromId":"0824f793-10a0-0f96-53c9-2424ad15e908","fromProperty":"savedValue","toId":"4021343f-a621-616f-c7c4-63444a1e8739","toProperty":"in-supabaseKey"}],"roots":[{"id":"395794ff-5211-5874-b362-128c95a5f011","type":"Component Inputs","x":-441,"y":-191,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Supabase URL","plug":"output","type":{"name":"*"},"index":1},{"name":"Supabase Anon Key","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"e4bfa95e-bb88-3b0f-324a-c55f3ff3c01f","type":"Component Outputs","x":329,"y":-6,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1}],"dynamicports":[],"children":[]},{"id":"4021343f-a621-616f-c7c4-63444a1e8739","type":"JavaScriptFunction","x":57,"y":-67.5,"parameters":{"functionScript":"if (Boolean(Noodl.Variables.supabase)) {\n    console.log(\"Supabase client is already set up\")\n    return //stops if the client already exists\n    }\n\nconst supabaseUrl = Inputs.supabaseUrl\nconst supabaseKey = Inputs.supabaseKey\ntry {\n    const supabase = window.createClient(supabaseUrl, supabaseKey)\n    Noodl.Variables.supabase = supabase\n\n    console.log(\"[setup - client] Supabase client is now set up\")\n    Outputs.Success()\n} catch (e){\n    console.error(\"[setup - client] error initializing Supabse client: \",e)\n    Outputs.Failure()\n}","scriptInputs":[{"id":"pgq9","label":"supabaseUrl"}]},"ports":[],"dynamicports":[{"name":"intype-supabaseUrl","displayName":"Type","editorName":"supabaseUrl | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"pgq9","index":4},{"name":"in-supabaseUrl","displayName":"supabaseUrl","plug":"input","type":"string","group":"Inputs","index":5},{"name":"in-supabaseKey","displayName":"supabaseKey","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"a9254b91-f3af-25d3-aa85-2fef59d18dd7","type":"String","x":-916,"y":203,"parameters":{"value":"authSession"},"ports":[],"dynamicports":[],"children":[]},{"id":"f8265308-84b9-7c2f-1cb1-c7349598d4db","type":"Variable2","x":-668,"y":208,"parameters":{"name":"Supabase_session"},"ports":[],"dynamicports":[],"children":[]},{"id":"f6de8cda-cc8c-c354-1a30-0819edee0ce8","type":"String","x":-920,"y":-124,"parameters":{"value":"user_profile"},"ports":[],"dynamicports":[],"children":[]},{"id":"409fe62d-2382-ef8e-92fe-c97710daf632","type":"Variable2","x":-671,"y":-59,"parameters":{"name":"Supabase_userProfileTableName"},"ports":[],"dynamicports":[],"children":[]},{"id":"2ef8b893-6627-2a70-5125-342c15db037f","type":"String","x":-220.92857142857133,"y":-200.92857142857144,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"0824f793-10a0-0f96-53c9-2424ad15e908","type":"String","x":-222,"y":-113,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[],"comments":[{"text":"Creates the Supabase client and stores it in a Noodl Variable","width":178,"height":276,"fill":true,"x":44,"y":-184,"id":"429038d0-9816-0e53-0686-6a9e6f2c786b","color":"script"},{"text":"Set up the Head","width":395,"height":260,"fill":true,"x":-258,"y":-529,"id":"81eb2055-81b4-4baf-ae2c-6565ff0218a8","largeFont":true},{"text":"In your Project Settings sidebar, go to Head Code and add:\n\n<script type=\"module\">\n    import { createClient } from 'https://esm.sh/@supabase/supabase-js@2.22.0';\n    window.createClient = createClient;  \n</script>","width":343,"height":164,"fill":true,"x":-235,"y":-467,"id":"9483fc55-27b3-d428-d3bf-dea1130459f1","color":"comment"},{"text":"Set the localstorage keyName to save the AuthSession","width":430,"height":205,"fill":true,"x":-932,"y":107,"id":"643dde99-aa65-a814-1205-ec986f88d9a4"},{"text":"Set the user profile table name","width":440,"height":260,"fill":true,"x":-940,"y":-187,"id":"b1f3d073-14e0-30c3-6cb2-2aaec9c5b2d5"}]}},{"name":"/#Supabase Prefab/Supabase Prefab/Pages/Email confirmation","id":"c06337f6-8f01-eda3-717c-4e1f6d24d1c5","graph":{"connections":[{"fromId":"74103c1f-d49c-ae38-f554-c5ca22abbd57","fromProperty":"prop-data","toId":"612351f5-837a-ad80-2f10-322adaf7e400","toProperty":"data"},{"fromId":"612351f5-837a-ad80-2f10-322adaf7e400","fromProperty":"result","toId":"4d1e3b9f-a6fb-38f6-07a3-826751365208","toProperty":"value"},{"fromId":"74103c1f-d49c-ae38-f554-c5ca22abbd57","fromProperty":"prop-loggedIn","toId":"fc83f47c-a254-c15e-a352-f640824c2555","toProperty":"value"},{"fromId":"74103c1f-d49c-ae38-f554-c5ca22abbd57","fromProperty":"prop-emailConfirmed","toId":"5253555f-a8fc-5c12-76a2-2ecae435fb41","toProperty":"value"},{"fromId":"4d1e3b9f-a6fb-38f6-07a3-826751365208","fromProperty":"result","toId":"44494213-cca1-5237-8f46-03a1b9691568","toProperty":"input 0"},{"fromId":"fc83f47c-a254-c15e-a352-f640824c2555","fromProperty":"result","toId":"44494213-cca1-5237-8f46-03a1b9691568","toProperty":"input 1"},{"fromId":"5253555f-a8fc-5c12-76a2-2ecae435fb41","fromProperty":"result","toId":"44494213-cca1-5237-8f46-03a1b9691568","toProperty":"input 2"},{"fromId":"612351f5-837a-ad80-2f10-322adaf7e400","fromProperty":"result","toId":"b81dc186-8f12-1efb-55cf-da9101df77b8","toProperty":"input 0"},{"fromId":"74103c1f-d49c-ae38-f554-c5ca22abbd57","fromProperty":"prop-loggedIn","toId":"b81dc186-8f12-1efb-55cf-da9101df77b8","toProperty":"input 1"},{"fromId":"74103c1f-d49c-ae38-f554-c5ca22abbd57","fromProperty":"prop-emailConfirmed","toId":"b81dc186-8f12-1efb-55cf-da9101df77b8","toProperty":"input 2"},{"fromId":"b81dc186-8f12-1efb-55cf-da9101df77b8","fromProperty":"result","toId":"1bda4193-af5d-7152-3254-4d964ef1b3bd","toProperty":"condition"},{"fromId":"1bda4193-af5d-7152-3254-4d964ef1b3bd","fromProperty":"ontrue","toId":"84471718-74fb-4469-aff9-1a69b283edcd","toProperty":"navigate"},{"fromId":"44494213-cca1-5237-8f46-03a1b9691568","fromProperty":"result","toId":"7a08534e-ac6a-1596-d617-16602978c0b2","toProperty":"condition"},{"fromId":"7a08534e-ac6a-1596-d617-16602978c0b2","fromProperty":"ontrue","toId":"84471718-74fb-4469-aff9-1a69b283edcd","toProperty":"navigate"},{"fromId":"cdb4eb1a-5b0b-b27a-63cb-6c2f5b3a0611","fromProperty":"didMount","toId":"7a08534e-ac6a-1596-d617-16602978c0b2","toProperty":"eval"},{"fromId":"cdb4eb1a-5b0b-b27a-63cb-6c2f5b3a0611","fromProperty":"didMount","toId":"1bda4193-af5d-7152-3254-4d964ef1b3bd","toProperty":"eval"},{"fromId":"dbcee570-ef43-b4ce-f99f-abc0b97e6fb7","fromProperty":"onTextChanged","toId":"00616739-2b84-3be7-3de7-d1ef2b2cb1fa","toProperty":"Email"},{"fromId":"b53cf95f-d26b-68db-24af-84a3029b1d30","fromProperty":"onClick","toId":"00616739-2b84-3be7-3de7-d1ef2b2cb1fa","toProperty":"Do"}],"roots":[{"id":"cdb4eb1a-5b0b-b27a-63cb-6c2f5b3a0611","type":"Page","x":103,"y":22,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"Email confirmation","index":14},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"email-confirmation","index":15}],"children":[{"id":"022bb956-c024-7c25-2d69-2b88651d8a96","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"f41a08df-55c3-8f6c-2d5e-422083bc8deb","type":"Text","parameters":{"textStyle":"Headline","text":"Email confirmation"},"ports":[],"dynamicports":[],"children":[]},{"id":"8f797a37-2bb5-9b6f-d420-42c3ce72885e","type":"Text","parameters":{"textStyle":"Body Medium","text":"Head to your inbox and confirm your email","color":"Grey - 800"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"11c1c2e3-4242-9dc8-d074-40ee86c4abd8","type":"Group","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"a9fc202c-5c42-d5d3-8d29-96b8a9f81b4e","type":"Text","parameters":{"textStyle":"Headline","text":"Didn't get an email?"},"ports":[],"dynamicports":[],"children":[]},{"id":"d2e3c761-1376-7a7a-b1ef-f9e3fc71f7fd","type":"Text","parameters":{"textStyle":"Body Medium","text":"Click below to resend the verification email.","color":"Grey - 800"},"ports":[],"dynamicports":[],"children":[]},{"id":"dbcee570-ef43-b4ce-f99f-abc0b97e6fb7","type":"net.noodl.controls.textinput","parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"b53cf95f-d26b-68db-24af-84a3029b1d30","type":"net.noodl.controls.button","parameters":{"label":"Resend Confirmation"},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"78df45b3-7ed1-d98b-2bb6-32fa4b48eb0c","type":"PageInputs","x":-100,"y":-54.42314496131684,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"00616739-2b84-3be7-3de7-d1ef2b2cb1fa","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Resend Confirmation","x":357,"y":475.0703125,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"74103c1f-d49c-ae38-f554-c5ca22abbd57","type":"Model2","x":-153.61389193595176,"y":-423.01044154026016,"parameters":{"modelId":"currentUser","properties":"loggedIn,emailConfirmed,data"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-loggedIn","displayName":"loggedIn","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"loggedIn Changed","name":"changed-loggedIn","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-emailConfirmed","displayName":"emailConfirmed","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"emailConfirmed Changed","name":"changed-emailConfirmed","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-data","displayName":"data","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"data Changed","name":"changed-data","index":12}],"children":[]},{"id":"84471718-74fb-4469-aff9-1a69b283edcd","type":"RouterNavigate","x":816.6107604894916,"y":-250.22861314687577,"parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Landing"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Landing","/#Supabase Prefab/Supabase Prefab/Pages/Forgot password","/#Supabase Prefab/Supabase Prefab/Pages/Email confirmation","/#Supabase Prefab/Supabase Prefab/Pages/Log in with Magic link","/#Supabase Prefab/Supabase Prefab/Pages/Log in","/#Supabase Prefab/Supabase Prefab/Pages/Reset password","/#Supabase Prefab/Supabase Prefab/Pages/Sign up","/Firebase/Reset Firebase Password","/Firebase/Update Firebase Email"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]},{"id":"612351f5-837a-ad80-2f10-322adaf7e400","type":"Expression","x":158.4363311672102,"y":-533.9723119109315,"parameters":{"expression":"!!data.session"},"ports":[],"dynamicports":[{"group":"Parameters","name":"data","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"4d1e3b9f-a6fb-38f6-07a3-826751365208","type":"Inverter","x":155.46766470951326,"y":-309.3675026408707,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"5253555f-a8fc-5c12-76a2-2ecae435fb41","type":"Inverter","x":156,"y":-149,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"fc83f47c-a254-c15e-a352-f640824c2555","type":"Inverter","x":156,"y":-229,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"44494213-cca1-5237-8f46-03a1b9691568","type":"And","x":523.0636488414727,"y":-262.9321532305274,"parameters":{},"ports":[],"dynamicports":[{"name":"input 0","displayName":"Input 0","type":"boolean","plug":"input","index":1},{"name":"input 1","displayName":"Input 1","type":"boolean","plug":"input","index":2},{"name":"input 2","displayName":"Input 2","type":"boolean","plug":"input","index":3},{"name":"input 3","displayName":"Input 3","type":"boolean","plug":"input","index":4}],"children":[]},{"id":"b81dc186-8f12-1efb-55cf-da9101df77b8","type":"And","x":389.8452051632505,"y":-490.3778657250731,"parameters":{},"ports":[],"dynamicports":[{"name":"input 0","displayName":"Input 0","type":"boolean","plug":"input","index":1},{"name":"input 1","displayName":"Input 1","type":"boolean","plug":"input","index":2},{"name":"input 2","displayName":"Input 2","type":"boolean","plug":"input","index":3},{"name":"input 3","displayName":"Input 3","type":"boolean","plug":"input","index":4}],"children":[]},{"id":"1bda4193-af5d-7152-3254-4d964ef1b3bd","type":"Condition","x":572.0034108208669,"y":-403.429278607578,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"7a08534e-ac6a-1596-d617-16602978c0b2","type":"Condition","x":524.1126326599782,"y":-119.33374003456765,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["cdb4eb1a-5b0b-b27a-63cb-6c2f5b3a0611"]}},{"name":"/#Supabase Prefab/Supabase Prefab/Pages/Forgot password","id":"44691446-267d-3bef-98bb-5c9bd756b797","graph":{"connections":[{"fromId":"988c8988-8510-99f0-3fbd-c993419d3b1c","fromProperty":"onTextChanged","toId":"18ba26df-cdd2-63a8-ded8-9ffd65524e1e","toProperty":"Email"},{"fromId":"c513fc51-b677-ac5f-02e9-9ec6ea5fe0a9","fromProperty":"onClick","toId":"18ba26df-cdd2-63a8-ded8-9ffd65524e1e","toProperty":"Do"}],"roots":[{"id":"9b4aeaa7-5cea-3c83-0160-65433a3aaa51","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"Forgot password","index":14},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"forgot-password","index":15}],"children":[{"id":"e6b4c6f7-8c9f-2d26-555a-c856fdf77b0c","type":"Group","label":"Login Form","parameters":{"flexDirection":"column","backgroundColor":"#FFFFFF","borderRadius":{"value":8,"unit":"px"},"sizeMode":"contentHeight","clip":true},"ports":[],"dynamicports":[],"children":[{"id":"98203867-adb2-31c0-ee7b-0866ab2eace8","type":"Text","label":"Welcome Text","parameters":{"text":"Forgot password","marginBottom":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"988c8988-8510-99f0-3fbd-c993419d3b1c","type":"net.noodl.controls.textinput","label":"Email Input","parameters":{"label":"Email","type":"email","placeholder":"Enter your email","marginBottom":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"c513fc51-b677-ac5f-02e9-9ec6ea5fe0a9","type":"net.noodl.controls.button","parameters":{"label":"Send"},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"e725b3d3-3d89-e307-4912-4a1a012ceb2b","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"18ba26df-cdd2-63a8-ded8-9ffd65524e1e","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Send Password Reset","x":261,"y":204.03515625,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["9b4aeaa7-5cea-3c83-0160-65433a3aaa51"]}},{"name":"/#Supabase Prefab/Supabase Prefab/Pages/Landing","id":"88a4532a-eca7-ce4e-b245-d5027de05aed","graph":{"connections":[],"roots":[{"id":"a9af6314-fcf7-a378-4997-f391e19bf14f","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"Landing","index":14},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"landing","index":15}],"children":[{"id":"ffbccf5a-0e33-4b9f-9633-a10fffa606c6","type":"Text","parameters":{"text":"Landing page (not logged in)"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"79f745cc-0a83-e435-7c4a-d1daaf87f4ad","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["a9af6314-fcf7-a378-4997-f391e19bf14f"]}},{"name":"/#Supabase Prefab/Supabase Prefab/Pages/Log in","id":"ee896e4e-dc6b-b0c4-1947-83203eadf1e8","graph":{"connections":[{"fromId":"dacefb66-b428-2fc3-ac24-94985e96cbc9","fromProperty":"onClick","toId":"1ef14a6d-46b6-a0a4-89b9-a0537aa52fda","toProperty":"Do"},{"fromId":"367d6b8d-ee49-af48-7e44-f323cf8c9be6","fromProperty":"onClick","toId":"671c59c3-9518-b9cc-06fe-2e69947d99f4","toProperty":"Do"},{"fromId":"95e984ac-e5c2-e075-ead2-18af3757aad7","fromProperty":"Login form group visibility","toId":"a00c461a-d3dd-aa99-173e-08f80b341701","toProperty":"mounted"},{"fromId":"95e984ac-e5c2-e075-ead2-18af3757aad7","fromProperty":"Confirm email group visibility","toId":"2ebf7f9d-795e-f6c3-11d0-050802848cd5","toProperty":"mounted"},{"fromId":"95e984ac-e5c2-e075-ead2-18af3757aad7","fromProperty":"Invalid Credentials Group Visibility","toId":"3c000c74-7428-7931-75a6-b2f60b9e32c5","toProperty":"mounted"},{"fromId":"9a5b06d6-c83a-c19e-89ca-440878dc5368","fromProperty":"onClick","toId":"95e984ac-e5c2-e075-ead2-18af3757aad7","toProperty":"to-200"},{"fromId":"6d220f0a-6a49-83e2-96d6-c147ddf0d48c","fromProperty":"isTrueEv","toId":"95e984ac-e5c2-e075-ead2-18af3757aad7","toProperty":"to-400"},{"fromId":"1ea5d7ff-0a6d-985f-6c97-8ec744c171ba","fromProperty":"isTrueEv","toId":"95e984ac-e5c2-e075-ead2-18af3757aad7","toProperty":"to-401"},{"fromId":"7fd2b104-2258-c9af-757f-50fc2b24dde9","fromProperty":"isTrueEv","toId":"95e984ac-e5c2-e075-ead2-18af3757aad7","toProperty":"to-402"},{"fromId":"1ef14a6d-46b6-a0a4-89b9-a0537aa52fda","fromProperty":"Failure","toId":"6d220f0a-6a49-83e2-96d6-c147ddf0d48c","toProperty":"run"},{"fromId":"1ef14a6d-46b6-a0a4-89b9-a0537aa52fda","fromProperty":"Failure","toId":"1ea5d7ff-0a6d-985f-6c97-8ec744c171ba","toProperty":"run"},{"fromId":"1ef14a6d-46b6-a0a4-89b9-a0537aa52fda","fromProperty":"Failure","toId":"7fd2b104-2258-c9af-757f-50fc2b24dde9","toProperty":"run"},{"fromId":"576e4220-839c-e927-0e83-b2bb700fb270","fromProperty":"out-Done","toId":"d6739541-f852-2624-540b-118db0892996","toProperty":"Do"},{"fromId":"c612270d-e406-4490-33b5-d9462ff4640e","fromProperty":"onTextChanged","toId":"1ef14a6d-46b6-a0a4-89b9-a0537aa52fda","toProperty":"Email"},{"fromId":"fc70ef10-3502-8dd7-034e-d8a6daf18d5c","fromProperty":"onTextChanged","toId":"1ef14a6d-46b6-a0a4-89b9-a0537aa52fda","toProperty":"Password"},{"fromId":"c612270d-e406-4490-33b5-d9462ff4640e","fromProperty":"onTextChanged","toId":"671c59c3-9518-b9cc-06fe-2e69947d99f4","toProperty":"Email"},{"fromId":"1ef14a6d-46b6-a0a4-89b9-a0537aa52fda","fromProperty":"Error","toId":"6d220f0a-6a49-83e2-96d6-c147ddf0d48c","toProperty":"error"},{"fromId":"1ef14a6d-46b6-a0a4-89b9-a0537aa52fda","fromProperty":"Error","toId":"1ea5d7ff-0a6d-985f-6c97-8ec744c171ba","toProperty":"error"},{"fromId":"1ef14a6d-46b6-a0a4-89b9-a0537aa52fda","fromProperty":"Error","toId":"7fd2b104-2258-c9af-757f-50fc2b24dde9","toProperty":"error"},{"fromId":"1ef14a6d-46b6-a0a4-89b9-a0537aa52fda","fromProperty":"Success","toId":"483771b9-4846-adc6-728d-e965377948f8","toProperty":"Do"},{"fromId":"fb7513cc-a5b9-9cf4-c6d2-bc868e65507f","fromProperty":"No User Data","toId":"576e4220-839c-e927-0e83-b2bb700fb270","toProperty":"run"},{"fromId":"576e4220-839c-e927-0e83-b2bb700fb270","fromProperty":"out-data","toId":"d6739541-f852-2624-540b-118db0892996","toProperty":"Data"},{"fromId":"483771b9-4846-adc6-728d-e965377948f8","fromProperty":"Done","toId":"fb7513cc-a5b9-9cf4-c6d2-bc868e65507f","toProperty":"Do"},{"fromId":"fb7513cc-a5b9-9cf4-c6d2-bc868e65507f","fromProperty":"Success","toId":"446cbbd2-6c97-700d-48e8-a7fd23d8bcab","toProperty":"navigate"},{"fromId":"d6739541-f852-2624-540b-118db0892996","fromProperty":"Success","toId":"446cbbd2-6c97-700d-48e8-a7fd23d8bcab","toProperty":"navigate"},{"fromId":"6fe784be-ad1a-e452-3810-109380357612","fromProperty":"onClick","toId":"541ae09f-82c0-7963-a461-3f8942da6ed6","toProperty":"navigate"}],"roots":[{"id":"835d3123-1a77-be7e-01f9-d7fcb4ed67f8","type":"Page","label":"Log in","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"Log in","index":14},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"log-in","index":15}],"children":[{"id":"b9c72d16-ee5d-d052-b6fc-b4d16a43af36","type":"Group","parameters":{"rowGap":{"value":32,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"a00c461a-d3dd-aa99-173e-08f80b341701","type":"Group","label":"Login Form","parameters":{"flexDirection":"column","backgroundColor":"#FFFFFF","borderRadius":{"value":8,"unit":"px"},"sizeMode":"contentHeight","clip":true},"ports":[],"dynamicports":[],"children":[{"id":"c317479a-cb91-c2eb-c092-c9e3fe75ea1e","type":"Text","label":"Welcome Text","parameters":{"text":"Log in page","marginBottom":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"c612270d-e406-4490-33b5-d9462ff4640e","type":"net.noodl.controls.textinput","label":"Email Input","parameters":{"label":"Email","type":"email","placeholder":"Enter your email","marginBottom":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"fc70ef10-3502-8dd7-034e-d8a6daf18d5c","type":"net.noodl.controls.textinput","label":"Password","parameters":{"label":"Email","type":"password","placeholder":"","marginBottom":{"value":8,"unit":"px"},"startValue":"Password"},"ports":[],"dynamicports":[],"children":[]},{"id":"dacefb66-b428-2fc3-ac24-94985e96cbc9","type":"net.noodl.controls.button","label":"Login Button","parameters":{"label":"Log in"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]},{"id":"abe458dd-5ec4-17c8-c27b-db8b203a5e2d","type":"Group","label":"Go to sign up","parameters":{"flexDirection":"row","columnGap":{"value":16,"unit":"px"},"sizeMode":"contentHeight","alignItems":"center","marginTop":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"e22855b6-dff8-b413-6bf1-1be2136e4bf6","type":"Text","label":"Signup Text","parameters":{"text":"Don't have an account?","sizeMode":"contentSize","marginTop":{"value":0,"unit":"px"},"color":"Grey - 600"},"ports":[],"dynamicports":[],"children":[]},{"id":"6fe784be-ad1a-e452-3810-109380357612","type":"net.noodl.controls.button","variant":"Text Button","parameters":{},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"2ebf7f9d-795e-f6c3-11d0-050802848cd5","type":"Group","label":"Confirm email","parameters":{"rowGap":{"value":8,"unit":"px"},"mounted":false},"ports":[],"dynamicports":[],"children":[{"id":"7fdf46bf-4ba8-becc-e368-2b7ab4103c06","type":"Text","parameters":{"textStyle":"Title Medium","text":"Resend confirmation"},"ports":[],"dynamicports":[],"children":[]},{"id":"e9875227-7898-5ccb-74d6-66de5f7099b6","type":"Text","parameters":{"text":"It looks like you've signed up but haven't confirmed your email address. Should we resend you a confirmation email?","color":"Grey - 600"},"ports":[],"dynamicports":[],"children":[]},{"id":"367d6b8d-ee49-af48-7e44-f323cf8c9be6","type":"net.noodl.controls.button","parameters":{"label":"Resend","marginTop":{"value":32,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"3c000c74-7428-7931-75a6-b2f60b9e32c5","type":"Group","label":"grp Invalid Credentials","parameters":{"rowGap":{"value":8,"unit":"px"},"mounted":false},"ports":[],"dynamicports":[],"children":[{"id":"e7624267-db39-10bf-6266-0f524f27f683","type":"Text","parameters":{"textStyle":"Title Medium","text":"Invalid credentials"},"ports":[],"dynamicports":[],"children":[]},{"id":"2c068f45-d9e9-b0e8-313f-6226d1bc10e8","type":"Text","parameters":{"text":"Provided incorrect email or password","color":"Grey - 600"},"ports":[],"dynamicports":[],"children":[]},{"id":"9a5b06d6-c83a-c19e-89ca-440878dc5368","type":"net.noodl.controls.button","parameters":{"label":"Retry","marginTop":{"value":32,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"c320a4e8-7c0b-d71c-1ceb-29622a21aa61","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"541ae09f-82c0-7963-a461-3f8942da6ed6","type":"RouterNavigate","label":"Sign up","x":-231.93444361867523,"y":629.9824082776651,"parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Sign up"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Landing","/#Supabase Prefab/Supabase Prefab/Pages/Forgot password","/#Supabase Prefab/Supabase Prefab/Pages/Email confirmation","/#Supabase Prefab/Supabase Prefab/Pages/Log in with Magic link","/#Supabase Prefab/Supabase Prefab/Pages/Log in","/#Supabase Prefab/Supabase Prefab/Pages/Reset password","/#Supabase Prefab/Supabase Prefab/Pages/Sign up","/Firebase/Reset Firebase Password","/Firebase/Update Firebase Email"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]},{"id":"1ef14a6d-46b6-a0a4-89b9-a0537aa52fda","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Log In","x":330.18093458805106,"y":351.4787473081171,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"671c59c3-9518-b9cc-06fe-2e69947d99f4","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Resend Confirmation","x":340.33710314159697,"y":855.4635408107828,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"483771b9-4846-adc6-728d-e965377948f8","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Fetch Current User Auth","x":708.103625184843,"y":-47.02256395222031,"parameters":{"Loggin In ?":true},"ports":[],"dynamicports":[],"children":[]},{"id":"95e984ac-e5c2-e075-ead2-18af3757aad7","type":"States","x":888.7735362047229,"y":705.6216629023568,"parameters":{"states":"400,402,401,200","values":"Confirm email group visibility,Login form group visibility,Invalid Credentials Group Visibility","type-Confirm email group visibility":"boolean","type-Login form group visibility":"boolean","useTransitions":false,"value-400-Login form group visibility":false,"value-401-Login form group visibility":false,"value-402-Confirm email group visibility":true,"value-402-Login form group visibility":false,"type-Invalid Credentials Group Visibility":"boolean","value-401-Invalid Credentials Group Visibility":true,"value-200-Login form group visibility":true,"value-400-Invalid Credentials Group Visibility":true,"currentState":"200"},"ports":[],"dynamicports":[{"type":{"name":"boolean","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Confirm email group visibility","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Confirm email group visibility","name":"type-Confirm email group visibility","index":7},{"type":{"name":"boolean","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Login form group visibility","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Login form group visibility","name":"type-Login form group visibility","index":9},{"type":{"name":"boolean","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Invalid Credentials Group Visibility","index":10},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Invalid Credentials Group Visibility","name":"type-Invalid Credentials Group Visibility","index":11},{"plug":"input","type":"boolean","group":"400 Values","name":"value-400-Confirm email group visibility","displayName":"Confirm email group visibility","editorName":"400|Confirm email group visibility","index":12},{"plug":"input","type":"boolean","group":"400 Values","name":"value-400-Login form group visibility","displayName":"Login form group visibility","editorName":"400|Login form group visibility","index":13},{"plug":"input","type":"boolean","group":"400 Values","name":"value-400-Invalid Credentials Group Visibility","displayName":"Invalid Credentials Group Visibility","editorName":"400|Invalid Credentials Group Visibility","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To 400","name":"to-400","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At 400","name":"at-400","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached 400","name":"reached-400","group":"Current state","index":17},{"plug":"input","type":"boolean","group":"402 Values","name":"value-402-Confirm email group visibility","displayName":"Confirm email group visibility","editorName":"402|Confirm email group visibility","index":18},{"plug":"input","type":"boolean","group":"402 Values","name":"value-402-Login form group visibility","displayName":"Login form group visibility","editorName":"402|Login form group visibility","index":19},{"plug":"input","type":"boolean","group":"402 Values","name":"value-402-Invalid Credentials Group Visibility","displayName":"Invalid Credentials Group Visibility","editorName":"402|Invalid Credentials Group Visibility","index":20},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To 402","name":"to-402","group":"Go to state","index":21},{"plug":"output","type":"boolean","displayName":"At 402","name":"at-402","group":"Current state","index":22},{"plug":"output","type":"signal","displayName":"Has Reached 402","name":"reached-402","group":"Current state","index":23},{"plug":"input","type":"boolean","group":"401 Values","name":"value-401-Confirm email group visibility","displayName":"Confirm email group visibility","editorName":"401|Confirm email group visibility","index":24},{"plug":"input","type":"boolean","group":"401 Values","name":"value-401-Login form group visibility","displayName":"Login form group visibility","editorName":"401|Login form group visibility","index":25},{"plug":"input","type":"boolean","group":"401 Values","name":"value-401-Invalid Credentials Group Visibility","displayName":"Invalid Credentials Group Visibility","editorName":"401|Invalid Credentials Group Visibility","index":26},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To 401","name":"to-401","group":"Go to state","index":27},{"plug":"output","type":"boolean","displayName":"At 401","name":"at-401","group":"Current state","index":28},{"plug":"output","type":"signal","displayName":"Has Reached 401","name":"reached-401","group":"Current state","index":29},{"plug":"input","type":"boolean","group":"200 Values","name":"value-200-Confirm email group visibility","displayName":"Confirm email group visibility","editorName":"200|Confirm email group visibility","index":30},{"plug":"input","type":"boolean","group":"200 Values","name":"value-200-Login form group visibility","displayName":"Login form group visibility","editorName":"200|Login form group visibility","index":31},{"plug":"input","type":"boolean","group":"200 Values","name":"value-200-Invalid Credentials Group Visibility","displayName":"Invalid Credentials Group Visibility","editorName":"200|Invalid Credentials Group Visibility","index":32},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To 200","name":"to-200","group":"Go to state","index":33},{"plug":"output","type":"boolean","displayName":"At 200","name":"at-200","group":"Current state","index":34},{"plug":"output","type":"signal","displayName":"Has Reached 200","name":"reached-200","group":"Current state","index":35},{"plug":"input","type":{"name":"enum","enums":["400","402","401","200"]},"group":"States","displayName":"State","name":"currentState","default":"400","index":36}],"children":[]},{"id":"6d220f0a-6a49-83e2-96d6-c147ddf0d48c","type":"Expression","x":612.2842595579409,"y":270.3767495401639,"parameters":{"expression":"error == \"400\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"error","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"1ea5d7ff-0a6d-985f-6c97-8ec744c171ba","type":"Expression","x":612.6235136094417,"y":404.1135769402972,"parameters":{"expression":"error == \"401\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"error","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"7fd2b104-2258-c9af-757f-50fc2b24dde9","type":"Expression","x":612.6296782860998,"y":538.153647338574,"parameters":{"expression":"error == \"402\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"error","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"fb7513cc-a5b9-9cf4-c6d2-bc868e65507f","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Fetch Current User Profile Data","x":892.0534538583993,"y":-64.05811344529855,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"d6739541-f852-2624-540b-118db0892996","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Update Current User Profile Data","x":1276.7827428753112,"y":45.83038758499612,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"576e4220-839c-e927-0e83-b2bb700fb270","type":"JavaScriptFunction","x":1091.8967893934828,"y":58.824222908338186,"parameters":{"functionScript":"Outputs.data = {id:Noodl.Objects.currentUser.auth.id}\nOutputs.Done()"},"ports":[],"dynamicports":[{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"446cbbd2-6c97-700d-48e8-a7fd23d8bcab","type":"RouterNavigate","x":1491.7398634221095,"y":-37.2605520016964,"parameters":{"router":"Supabase Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Logged in"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Logged in","/#Supabase Prefab/Supabase Prefab/Pages/User Profile","/#Supabase Prefab/Supabase Prefab/Pages/Update password"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]}],"visualRoots":["835d3123-1a77-be7e-01f9-d7fcb4ed67f8"],"comments":[{"text":"The Log in is successful, we retrieve the user Profile. If it doesn't exists, we create it and then navigate","width":1039,"height":292,"fill":true,"x":648,"y":-117,"id":"9478ea7e-c4bd-db06-50ea-d42afbce1fcb"}]}},{"name":"/#Supabase Prefab/Supabase Prefab/Pages/Log in with Magic link","id":"f90270e4-8eae-6210-1048-193ba62fdde2","graph":{"connections":[{"fromId":"4290e00b-96df-5ab1-58b4-327c581e5797","fromProperty":"onTextChanged","toId":"98556ac2-777a-7f1a-5851-d98a801d9047","toProperty":"Email"},{"fromId":"fc16938d-760e-f99c-bcbc-26d993f8e551","fromProperty":"onClick","toId":"f63e76d4-7177-1d9c-6562-011dada0fb41","toProperty":"navigate"},{"fromId":"c7c7a02d-9495-df41-c77d-7bdbfb81359c","fromProperty":"onClick","toId":"98556ac2-777a-7f1a-5851-d98a801d9047","toProperty":"Do"}],"roots":[{"id":"f7bfee3a-fcfe-b674-f415-50040c571d01","type":"Page","label":"Log in","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"Log in with Magic link","index":14},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"log-in-with-magic-link","index":15}],"children":[{"id":"c9f097ed-ef9f-4dd1-8350-19b0ca81bbf8","type":"Group","label":"Login Form","parameters":{"flexDirection":"column","backgroundColor":"#FFFFFF","borderRadius":{"value":8,"unit":"px"},"sizeMode":"contentHeight","clip":true},"ports":[],"dynamicports":[],"children":[{"id":"e620fbda-8b7f-f57c-ee80-e39c7f5f4ba7","type":"Text","label":"Welcome Text","parameters":{"text":"Magic link","marginBottom":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"4290e00b-96df-5ab1-58b4-327c581e5797","type":"net.noodl.controls.textinput","label":"Email Input","parameters":{"label":"Email","type":"email","placeholder":"Enter your email","marginBottom":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"c7c7a02d-9495-df41-c77d-7bdbfb81359c","type":"net.noodl.controls.button","parameters":{"label":"Send ðŸª„ Magic link"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"fec1da6a-67df-9d0f-84d0-3c1b06f92052","type":"Group","label":"Go to sign up","parameters":{"flexDirection":"row","columnGap":{"value":16,"unit":"px"},"sizeMode":"contentHeight","alignItems":"center","marginTop":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"36481bd9-ce47-329a-a944-57818fde9aff","type":"Text","label":"Signup Text","parameters":{"text":"Don't have an account?","sizeMode":"contentSize","marginTop":{"value":0,"unit":"px"},"color":"Grey - 600"},"ports":[],"dynamicports":[],"children":[]},{"id":"fc16938d-760e-f99c-bcbc-26d993f8e551","type":"net.noodl.controls.button","variant":"Text Button","parameters":{},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"f7866460-9c85-2759-cdce-779070b0ebea","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"f63e76d4-7177-1d9c-6562-011dada0fb41","type":"RouterNavigate","label":"Sign up","x":285.5,"y":479.2587890625,"parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Sign up"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Landing","/#Supabase Prefab/Supabase Prefab/Pages/Forgot password","/#Supabase Prefab/Supabase Prefab/Pages/Email confirmation","/#Supabase Prefab/Supabase Prefab/Pages/Log in with Magic link","/#Supabase Prefab/Supabase Prefab/Pages/Log in","/#Supabase Prefab/Supabase Prefab/Pages/Reset password","/#Supabase Prefab/Supabase Prefab/Pages/Sign up","/Firebase/Reset Firebase Password","/Firebase/Update Firebase Email"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]},{"id":"98556ac2-777a-7f1a-5851-d98a801d9047","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Send Magic Link","x":252.875,"y":221.323486328125,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["f7bfee3a-fcfe-b674-f415-50040c571d01"]}},{"name":"/#Supabase Prefab/Supabase Prefab/Pages/Logged in","id":"ca8b7c7f-0fe0-3099-04f5-725bc2d8b69e","graph":{"connections":[],"roots":[{"id":"04f32153-878f-cdc3-df68-27250003328a","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"Logged in","index":14},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"logged-in","index":15}],"children":[{"id":"97dbb3cd-3179-b73d-0e12-336eb863c0f5","type":"Text","parameters":{"text":"Logged in page"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"7e23405e-4d4c-79df-91ef-6ee8a8e942ce","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["04f32153-878f-cdc3-df68-27250003328a"]}},{"name":"/#Supabase Prefab/Supabase Prefab/Pages/Reset password","id":"df1372db-de6b-3340-c893-d30b93e65fce","graph":{"connections":[{"fromId":"2d451f42-8636-f6e0-f41c-52528cb88231","fromProperty":"onClick","toId":"3c73b6c6-3bd4-bac4-13ff-6f02f203c824","toProperty":"Do"},{"fromId":"d680f62a-07b9-abe2-8358-6edc1c6b7331","fromProperty":"onTextChanged","toId":"3c73b6c6-3bd4-bac4-13ff-6f02f203c824","toProperty":"Email"},{"fromId":"2973f7cf-d5b4-9d11-9373-09e1adbea5d2","fromProperty":"onTextChanged","toId":"3c73b6c6-3bd4-bac4-13ff-6f02f203c824","toProperty":"Password"}],"roots":[{"id":"595720f9-80f4-6fc6-77c7-f75dff63ba63","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"Reset password","index":14},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"reset-password","index":15}],"children":[{"id":"b26c7da3-98b0-db91-ce45-8e6a3daf2eb7","type":"Text","parameters":{"text":"Reset password page"},"ports":[],"dynamicports":[],"children":[]},{"id":"d680f62a-07b9-abe2-8358-6edc1c6b7331","type":"net.noodl.controls.textinput","label":"Email","parameters":{"type":"email","placeholder":"","label":"Email"},"ports":[],"dynamicports":[],"children":[]},{"id":"2973f7cf-d5b4-9d11-9373-09e1adbea5d2","type":"net.noodl.controls.textinput","label":"Password","parameters":{"type":"password","placeholder":"","label":"Password"},"ports":[],"dynamicports":[],"children":[]},{"id":"2d451f42-8636-f6e0-f41c-52528cb88231","type":"net.noodl.controls.button","parameters":{"label":"Reset password"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"e024032e-4e14-08b2-6d8c-d51c7b59d90a","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"3c73b6c6-3bd4-bac4-13ff-6f02f203c824","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Update Current User Auth","x":379,"y":160.03515625,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["595720f9-80f4-6fc6-77c7-f75dff63ba63"]}},{"name":"/#Supabase Prefab/Supabase Prefab/Pages/Sign up","id":"5ebfa97f-1156-4a57-5825-b00b244cd69d","graph":{"connections":[{"fromId":"d1939980-6412-3626-2715-cf014cd4e470","fromProperty":"onTextChanged","toId":"c64db6d5-d607-2f99-35d5-c6e0bf64be35","toProperty":"Email"},{"fromId":"5a8fce46-6c14-773a-0412-35e3208a1379","fromProperty":"onTextChanged","toId":"c64db6d5-d607-2f99-35d5-c6e0bf64be35","toProperty":"Password"},{"fromId":"adbbc493-06c9-81f8-64ae-160e6c92e896","fromProperty":"onTextChanged","toId":"c64db6d5-d607-2f99-35d5-c6e0bf64be35","toProperty":"Last Name"},{"fromId":"5c22f8ad-4623-b9d4-6061-54a6e2291dc4","fromProperty":"onTextChanged","toId":"c64db6d5-d607-2f99-35d5-c6e0bf64be35","toProperty":"First Name"},{"fromId":"c64db6d5-d607-2f99-35d5-c6e0bf64be35","fromProperty":"Success","toId":"75d1d992-dc88-f1a1-45d0-e69bd42d3d99","toProperty":"Do"},{"fromId":"75d1d992-dc88-f1a1-45d0-e69bd42d3d99","fromProperty":"Done","toId":"dc8403d1-e707-2a8f-7adf-940760255914","toProperty":"navigate"},{"fromId":"39fcd70c-5487-4324-fb3d-5249a16e2634","fromProperty":"onClick","toId":"c64db6d5-d607-2f99-35d5-c6e0bf64be35","toProperty":"Do"},{"fromId":"7e2bfeac-6a9e-d803-52e8-1fd9c5bba2b4","fromProperty":"onClick","toId":"4d39736f-3212-c77d-6ce0-e5926cf08ec1","toProperty":"navigate"}],"roots":[{"id":"97a17e34-4e7c-19ef-c2d3-bfda454f408c","type":"Page","label":"Sign up","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"Sign up","index":14},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"sign-up","index":15}],"children":[{"id":"5ddbf5e1-c68a-847d-2cd2-289176279960","type":"Group","label":"Login Form","parameters":{"flexDirection":"column","backgroundColor":"#FFFFFF","borderRadius":{"value":8,"unit":"px"},"sizeMode":"contentHeight","clip":true},"ports":[],"dynamicports":[],"children":[{"id":"8d93e915-b6a7-beec-fbdc-66aceac23b63","type":"Text","label":"","parameters":{"text":"Sign up page","marginBottom":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"d1939980-6412-3626-2715-cf014cd4e470","type":"net.noodl.controls.textinput","label":"Email Input","parameters":{"label":"Email","type":"email","placeholder":"","marginBottom":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"5a8fce46-6c14-773a-0412-35e3208a1379","type":"net.noodl.controls.textinput","label":"Password Input","parameters":{"label":"Password","type":"password","marginBottom":{"value":16,"unit":"px"},"placeholder":""},"ports":[],"dynamicports":[],"children":[]},{"id":"5c22f8ad-4623-b9d4-6061-54a6e2291dc4","type":"net.noodl.controls.textinput","label":"First name","parameters":{"label":"First name","type":"text","placeholder":"","marginBottom":{"value":8,"unit":"px"},"sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]},{"id":"adbbc493-06c9-81f8-64ae-160e6c92e896","type":"net.noodl.controls.textinput","label":"Last name","parameters":{"label":"Last name","type":"text","placeholder":"","marginBottom":{"value":8,"unit":"px"},"sizeMode":"explicit"},"ports":[],"dynamicports":[],"children":[]},{"id":"39fcd70c-5487-4324-fb3d-5249a16e2634","type":"net.noodl.controls.button","parameters":{"label":"Sign up"},"ports":[],"dynamicports":[],"children":[]},{"id":"3308ddf8-9798-639a-62be-381095b505e3","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","alignItems":"center","marginTop":{"value":16,"unit":"px"},"columnGap":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"0cb62ed8-4275-0a2b-0f96-ca0e919e5f11","type":"Text","label":"","parameters":{"text":"Already have an account?","marginTop":{"value":0,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[]},{"id":"7e2bfeac-6a9e-d803-52e8-1fd9c5bba2b4","type":"net.noodl.controls.button","variant":"Text Button","parameters":{"label":"Log in"},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"6f5e53a6-8061-8735-e0f6-194d7208ced6","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"c64db6d5-d607-2f99-35d5-c6e0bf64be35","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Sign Up","x":298,"y":387,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"4d39736f-3212-c77d-6ce0-e5926cf08ec1","type":"RouterNavigate","label":"Log in","x":283,"y":747.03515625,"parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Log in"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Landing","/#Supabase Prefab/Supabase Prefab/Pages/Forgot password","/#Supabase Prefab/Supabase Prefab/Pages/Email confirmation","/#Supabase Prefab/Supabase Prefab/Pages/Log in with Magic link","/#Supabase Prefab/Supabase Prefab/Pages/Log in","/#Supabase Prefab/Supabase Prefab/Pages/Reset password","/#Supabase Prefab/Supabase Prefab/Pages/Sign up","/Firebase/Reset Firebase Password","/Firebase/Update Firebase Email"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]},{"id":"dc8403d1-e707-2a8f-7adf-940760255914","type":"RouterNavigate","x":530,"y":505.50878906249994,"parameters":{"router":"Supabase Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/User Profile"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Logged in","/#Supabase Prefab/Supabase Prefab/Pages/User Profile","/#Supabase Prefab/Supabase Prefab/Pages/Update password"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]},{"id":"75d1d992-dc88-f1a1-45d0-e69bd42d3d99","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Fetch Current User Auth","x":528.3,"y":388.5087890625,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["97a17e34-4e7c-19ef-c2d3-bfda454f408c"]}},{"name":"/#Supabase Prefab/Supabase Prefab/Pages/Update password","id":"f97c6b38-4f78-393c-3a36-65a99f4dd0ec","graph":{"connections":[{"fromId":"01c7a025-1626-ae95-98f0-edf833a8c623","fromProperty":"onClick","toId":"01aa6e9e-b710-7244-c1da-ab86251b487f","toProperty":"Do"},{"fromId":"2aa2d4db-eb11-d30a-849f-75d3d65b94ff","fromProperty":"out-email","toId":"54bf5497-0ae1-9293-6e5b-6536216852bf","toProperty":"startValue"},{"fromId":"01aa6e9e-b710-7244-c1da-ab86251b487f","fromProperty":"Success","toId":"5872c630-3e62-dd07-43da-d91542647e70","toProperty":"navigate"},{"fromId":"2aa2d4db-eb11-d30a-849f-75d3d65b94ff","fromProperty":"out-email","toId":"01aa6e9e-b710-7244-c1da-ab86251b487f","toProperty":"Email"},{"fromId":"4f3034d9-9af2-7c37-8d28-d7d3df07ad8c","fromProperty":"onTextChanged","toId":"01aa6e9e-b710-7244-c1da-ab86251b487f","toProperty":"Password"}],"roots":[{"id":"dc6f5f63-a69f-bdb1-4f09-7056799c82be","type":"Page","x":0,"y":0,"parameters":{"cssClassName":"gap-20","styleCss":"/* background-color: red; */\n"},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"Update password","index":14},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"update-password","index":15}],"children":[{"id":"f9eb40d7-ff31-fcdc-9a50-a1d7bedd8810","type":"Text","parameters":{"text":"Update password page"},"ports":[],"dynamicports":[],"children":[]},{"id":"54bf5497-0ae1-9293-6e5b-6536216852bf","type":"net.noodl.controls.textinput","label":"Email","parameters":{"type":"email","label":"Email","useLabel":true,"enabled":false},"ports":[],"dynamicports":[],"children":[]},{"id":"4f3034d9-9af2-7c37-8d28-d7d3df07ad8c","type":"net.noodl.controls.textinput","label":"New password","parameters":{"type":"password","label":"New password"},"ports":[],"dynamicports":[],"children":[]},{"id":"01c7a025-1626-ae95-98f0-edf833a8c623","type":"net.noodl.controls.button","parameters":{"label":"Update password"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"1d8c8d78-bd34-1224-1b3c-0ddf5df1bacf","type":"PageInputs","x":-239,"y":-126,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"01aa6e9e-b710-7244-c1da-ab86251b487f","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Update Current User Auth","x":234,"y":162,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"2aa2d4db-eb11-d30a-849f-75d3d65b94ff","type":"JavaScriptFunction","x":-215.66666666666663,"y":-32.33333333333337,"parameters":{"functionScript":"\nconst urlParams = new URLSearchParams(window.location.search);\nOutputs.email = urlParams.get('email')"},"ports":[],"dynamicports":[{"name":"out-email","displayName":"email","plug":"output","type":"*","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"5872c630-3e62-dd07-43da-d91542647e70","type":"RouterNavigate","x":446.0833333333334,"y":190.66666666666663,"parameters":{"router":"App"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":[],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]}],"visualRoots":["dc6f5f63-a69f-bdb1-4f09-7056799c82be"]}},{"name":"/#Supabase Prefab/Supabase Prefab/Pages/User Profile","id":"baa1e022-1426-1097-b60c-cff0bb9e039c","graph":{"connections":[{"fromId":"71f2a95e-f86c-7917-b2a9-b93d979dc985","fromProperty":"out-first_name","toId":"fd414d99-20c3-338a-0f05-bd3d19d17472","toProperty":"startValue"},{"fromId":"71f2a95e-f86c-7917-b2a9-b93d979dc985","fromProperty":"out-last_name","toId":"4bfa94b0-57ab-5a07-3324-d5d21c9004d6","toProperty":"startValue"},{"fromId":"fd414d99-20c3-338a-0f05-bd3d19d17472","fromProperty":"onTextChanged","toId":"bf9859dc-5626-35df-ed36-21ecb6a3d80f","toProperty":"in-first_name"},{"fromId":"4bfa94b0-57ab-5a07-3324-d5d21c9004d6","fromProperty":"onTextChanged","toId":"bf9859dc-5626-35df-ed36-21ecb6a3d80f","toProperty":"in-last_name"},{"fromId":"7fcadc83-0d49-d382-a52b-997f6cda274a","fromProperty":"onClick","toId":"bf9859dc-5626-35df-ed36-21ecb6a3d80f","toProperty":"run"},{"fromId":"de67048d-5c9f-6c6e-d094-1b65385e66dc","fromProperty":"didMount","toId":"71f2a95e-f86c-7917-b2a9-b93d979dc985","toProperty":"run"},{"fromId":"bf9859dc-5626-35df-ed36-21ecb6a3d80f","fromProperty":"out-Success","toId":"357bd35b-97d4-5f84-3e04-101ae48e3239","toProperty":"Do"},{"fromId":"bf9859dc-5626-35df-ed36-21ecb6a3d80f","fromProperty":"out-data","toId":"357bd35b-97d4-5f84-3e04-101ae48e3239","toProperty":"Data"},{"fromId":"33e17dc7-3eae-f3ad-080e-deb21739965d","fromProperty":"onClick","toId":"439026b4-83ab-5c9a-3549-bec2cac31430","toProperty":"navigate"},{"fromId":"357bd35b-97d4-5f84-3e04-101ae48e3239","fromProperty":"Success","toId":"439026b4-83ab-5c9a-3549-bec2cac31430","toProperty":"navigate"}],"roots":[{"id":"de1be1b5-5308-b994-a180-63821064479c","type":"Page","x":0,"y":0,"parameters":{"paddingTop":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"urlPath":"userprofile"},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"User Profile","index":14},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"user-profile","index":15}],"children":[{"id":"76680c50-a1d5-1db3-481e-c3610062f58d","type":"Text","label":"Text","parameters":{"text":"Edit your profile"},"ports":[],"dynamicports":[],"children":[]},{"id":"de67048d-5c9f-6c6e-d094-1b65385e66dc","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","marginTop":{"value":10,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"fd414d99-20c3-338a-0f05-bd3d19d17472","type":"net.noodl.controls.textinput","label":"ipFirstName","parameters":{"labelcolor":"Grey - 700","placeholder":"","label":"First name"},"stateParameters":{"focused":{}},"ports":[],"dynamicports":[],"children":[]},{"id":"4bfa94b0-57ab-5a07-3324-d5d21c9004d6","type":"net.noodl.controls.textinput","label":"ipLastName","parameters":{},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]},{"id":"91f8e25b-204d-9810-9a3e-9cd5094cc7cc","type":"Group","parameters":{"flexDirection":"row","marginTop":{"value":20,"unit":"px"},"justifyContent":"flex-end","sizeMode":"contentHeight","alignY":"center"},"ports":[],"dynamicports":[],"children":[{"id":"33e17dc7-3eae-f3ad-080e-deb21739965d","type":"net.noodl.controls.button","label":"btnCancel","parameters":{"backgroundColor":"transparent","color":"Grey - 600","label":"Cancel","alignY":"center"},"ports":[],"dynamicports":[],"children":[]},{"id":"7fcadc83-0d49-d382-a52b-997f6cda274a","type":"net.noodl.controls.button","label":"btnSave","parameters":{"label":"Save"},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"52ead577-f5ae-43eb-f8b5-32db26e450c0","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"71f2a95e-f86c-7917-b2a9-b93d979dc985","type":"JavaScriptFunction","x":-439,"y":250,"parameters":{"functionScript":"console.log(\"setting Inputs Values\")\n\nif (Noodl.Object.exists(\"currentUser\")) {\n\n    let currUser = Noodl.Object.get(\"currentUser\")\n\n    console.log(\"currUser ::\",currUser)\n    if (currUser.profile) {\n        Outputs.first_name = currUser.profile.first_name\n        Outputs.last_name = currUser.profile.last_name\n    }\n\n}"},"ports":[],"dynamicports":[{"name":"out-first_name","displayName":"first_name","plug":"output","type":"*","group":"Outputs","index":4},{"name":"out-last_name","displayName":"last_name","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"bf9859dc-5626-35df-ed36-21ecb6a3d80f","type":"JavaScriptFunction","x":529,"y":345,"parameters":{"functionScript":"Outputs.data = {\n    \"id\":Noodl.Objects.currentUser.auth.id,\n    \"first_name\":Inputs.first_name,\n    \"last_name\":Inputs.last_name\n}\n\nOutputs.Success()"},"ports":[],"dynamicports":[{"name":"in-first_name","displayName":"first_name","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-last_name","displayName":"last_name","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"357bd35b-97d4-5f84-3e04-101ae48e3239","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Update Current User Profile Data","x":708.6333333333334,"y":316.4296875,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"439026b4-83ab-5c9a-3549-bec2cac31430","type":"RouterNavigate","x":522.7266666666667,"y":502.88593749999995,"parameters":{"router":"Supabase Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Logged in"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Logged in","/#Supabase Prefab/Supabase Prefab/Pages/User Profile","/#Supabase Prefab/Supabase Prefab/Pages/Update password"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]}],"visualRoots":["de1be1b5-5308-b994-a180-63821064479c"]}},{"name":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Example App Root","id":"eaad6295-2922-2f2c-63c7-782a04195deb","graph":{"connections":[{"fromId":"1b60c948-a6c4-85f3-bb7c-f665cd5bf382","fromProperty":"Success","toId":"4d3d66d1-22ce-96ae-745e-4ad002ab7c48","toProperty":"navigate"},{"fromId":"c27f063d-1541-eb60-34de-31001f653b80","fromProperty":"Success","toId":"7e27b668-007d-ec54-cab6-b0e454333e81","toProperty":"Do"},{"fromId":"60b38096-1989-3213-95fa-2c358f335d71","fromProperty":"didMount","toId":"c27f063d-1541-eb60-34de-31001f653b80","toProperty":"Do"},{"fromId":"7e27b668-007d-ec54-cab6-b0e454333e81","fromProperty":"Done","toId":"55a1a09f-88a1-51ca-ba50-62d90a6181c7","toProperty":"eval"},{"fromId":"7e27b668-007d-ec54-cab6-b0e454333e81","fromProperty":"Logged In","toId":"55a1a09f-88a1-51ca-ba50-62d90a6181c7","toProperty":"condition"},{"fromId":"55a1a09f-88a1-51ca-ba50-62d90a6181c7","fromProperty":"ontrue","toId":"1b60c948-a6c4-85f3-bb7c-f665cd5bf382","toProperty":"Do"},{"fromId":"7e27b668-007d-ec54-cab6-b0e454333e81","fromProperty":"Logged In","toId":"d8e075af-241f-8a90-81c2-c00159e8f0bb","toProperty":"Is User Logged In"}],"roots":[{"id":"60b38096-1989-3213-95fa-2c358f335d71","type":"Group","x":238,"y":164,"parameters":{"backgroundColor":"#FFFFFF","minHeight":{"value":100,"unit":"vh"}},"ports":[],"dynamicports":[],"children":[{"id":"3ca5fcb3-7f26-a6bf-e056-e06a2f663845","type":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Header","parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"7d79dd6a-178b-8748-6f6b-da4980dc35aa","type":"Group","parameters":{"paddingLeft":{"value":16,"unit":"px"},"paddingTop":{"value":16,"unit":"px"},"paddingBottom":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"d8e075af-241f-8a90-81c2-c00159e8f0bb","type":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Full Router","parameters":{},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"c27f063d-1541-eb60-34de-31001f653b80","type":"/#Supabase Prefab/Supabase Prefab/Core/Supabase - Setup Client","x":14,"y":204,"parameters":{"Supabase URL":"","Supabase Anon Key":""},"ports":[],"dynamicports":[],"children":[]},{"id":"7e27b668-007d-ec54-cab6-b0e454333e81","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Fetch Current User Auth","x":11,"y":384.00000000000006,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"1b60c948-a6c4-85f3-bb7c-f665cd5bf382","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Fetch Current User Profile Data","x":11,"y":650,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"4d3d66d1-22ce-96ae-745e-4ad002ab7c48","type":"RouterNavigate","x":12.000000000000114,"y":789,"parameters":{"router":"Supabase Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/User Profile"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Logged in","/#Supabase Prefab/Supabase Prefab/Pages/User Profile","/#Supabase Prefab/Supabase Prefab/Pages/Update password"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]},{"id":"55a1a09f-88a1-51ca-ba50-62d90a6181c7","type":"Condition","x":13,"y":527,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["60b38096-1989-3213-95fa-2c358f335d71"],"comments":[{"text":"Input your \"Supabase URL\" and \"Supabase Anon Key\".\n\nYou can find them under Supabase's Project Settings / API","width":214,"height":307,"fill":true,"x":-18,"y":44,"id":"5e922b2a-2504-6470-6066-a31ee19378ac"}]}},{"name":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Full Router","id":"90071a72-cd0e-f50f-5f8f-37b37d05f450","graph":{"connections":[{"fromId":"04e6fbff-03c3-3cb3-8fbc-8d10829eea01","fromProperty":"Is User Logged In","toId":"58598404-290a-f5ec-7784-0a658bd94e4b","toProperty":"mounted"},{"fromId":"04e6fbff-03c3-3cb3-8fbc-8d10829eea01","fromProperty":"Is User Logged In","toId":"91ada7a1-f6b0-eef5-ed6f-c2985b998561","toProperty":"value"},{"fromId":"91ada7a1-f6b0-eef5-ed6f-c2985b998561","fromProperty":"result","toId":"7f254fea-6a91-a495-2eb8-c9ada04e3efd","toProperty":"mounted"}],"roots":[{"id":"40eb876f-29a0-b1e2-7f47-4670d0f3510c","type":"Group","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"7f254fea-6a91-a495-2eb8-c9ada04e3efd","type":"Router","label":"Not logged in router","parameters":{"name":"Supabase Not Logged In Router","pages":{"routes":["/#Supabase Prefab/Supabase Prefab/Pages/Landing","/#Supabase Prefab/Supabase Prefab/Pages/Forgot password","/#Supabase Prefab/Supabase Prefab/Pages/Email confirmation","/#Supabase Prefab/Supabase Prefab/Pages/Log in with Magic link","/#Supabase Prefab/Supabase Prefab/Pages/Log in","/#Supabase Prefab/Supabase Prefab/Pages/Reset password","/#Supabase Prefab/Supabase Prefab/Pages/Sign up","/Firebase/Reset Firebase Password","/Firebase/Update Firebase Email"],"startPage":"/#Supabase Prefab/Supabase Prefab/Pages/Landing"},"mounted":true},"ports":[],"dynamicports":[],"children":[]},{"id":"58598404-290a-f5ec-7784-0a658bd94e4b","type":"Router","label":"Logged in router","parameters":{"name":"Supabase Logged In Router","pages":{"routes":["/#Supabase Prefab/Supabase Prefab/Pages/Logged in","/#Supabase Prefab/Supabase Prefab/Pages/User Profile","/#Supabase Prefab/Supabase Prefab/Pages/Update password"],"startPage":"/#Supabase Prefab/Supabase Prefab/Pages/Logged in"},"mounted":false},"ports":[],"dynamicports":[],"children":[]}]},{"id":"04e6fbff-03c3-3cb3-8fbc-8d10829eea01","type":"Component Inputs","x":-413.5,"y":97,"parameters":{},"ports":[{"name":"Is User Logged In","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"91ada7a1-f6b0-eef5-ed6f-c2985b998561","type":"Inverter","x":-194.75,"y":52,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["40eb876f-29a0-b1e2-7f47-4670d0f3510c"]}},{"name":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Header","id":"f7f7fb57-4748-cdf7-10e6-1022ba68015b","graph":{"connections":[{"fromId":"67e25ebe-5a87-40e6-5102-6496deb03359","fromProperty":"onClick","toId":"15594a06-b9f8-4aa0-b940-9d6d353c2c58","toProperty":"navigate"},{"fromId":"00c6b474-38c5-c24b-3c0c-cd061461dddd","fromProperty":"at-logged in","toId":"9853ed5f-756a-09e0-6ef1-63b4ffd09eff","toProperty":"mounted"},{"fromId":"00c6b474-38c5-c24b-3c0c-cd061461dddd","fromProperty":"at-logged out","toId":"7d9a09fd-eac4-6bce-c3cf-a52c2116c889","toProperty":"mounted"},{"fromId":"f876239a-dd03-d839-963c-d5edadc7ce98","fromProperty":"onClick","toId":"cb513dce-abe3-7a83-7c0e-f10d4f8ee4bb","toProperty":"navigate"},{"fromId":"71b50c03-6a87-f46e-22b1-5dfa6da26d57","fromProperty":"onClick","toId":"f2134e9f-316d-5c5b-16fa-181dc150d639","toProperty":"navigate"},{"fromId":"0df37ead-a889-2f3f-7e27-8d9ae52d1890","fromProperty":"prop-loggedIn","toId":"441b07be-9c7e-28fa-fd45-07b93cb35791","toProperty":"input"},{"fromId":"441b07be-9c7e-28fa-fd45-07b93cb35791","fromProperty":"currentValue","toId":"00c6b474-38c5-c24b-3c0c-cd061461dddd","toProperty":"currentState"},{"fromId":"c144cd26-f80e-ab5c-d7cc-0f950641d8f5","fromProperty":"onClick","toId":"9cc53cb6-4d9f-90ac-d789-1d245f7a4fe8","toProperty":"navigate"},{"fromId":"efd1690e-50bc-7665-0653-5b502388a8ae","fromProperty":"onClick","toId":"faaeb34b-26b6-1bc0-1862-e6382db84086","toProperty":"navigate"},{"fromId":"157036f5-6f5e-14fe-0492-7e6adcdf12c0","fromProperty":"out-display","toId":"08515f01-1ab1-b5e3-9f2e-5942caf9b2e9","toProperty":"text"},{"fromId":"0df37ead-a889-2f3f-7e27-8d9ae52d1890","fromProperty":"prop-auth","toId":"157036f5-6f5e-14fe-0492-7e6adcdf12c0","toProperty":"in-auth"},{"fromId":"0df37ead-a889-2f3f-7e27-8d9ae52d1890","fromProperty":"prop-profile","toId":"157036f5-6f5e-14fe-0492-7e6adcdf12c0","toProperty":"in-profile"},{"fromId":"b386c184-8d43-4cd3-82bf-d82588ab20de","fromProperty":"eventReceived","toId":"0df37ead-a889-2f3f-7e27-8d9ae52d1890","toProperty":"fetch"},{"fromId":"2a589192-2fae-c82d-e9d8-bd35f9a32353","fromProperty":"eventReceived","toId":"0df37ead-a889-2f3f-7e27-8d9ae52d1890","toProperty":"fetch"},{"fromId":"b386c184-8d43-4cd3-82bf-d82588ab20de","fromProperty":"eventReceived","toId":"157036f5-6f5e-14fe-0492-7e6adcdf12c0","toProperty":"run"},{"fromId":"2a589192-2fae-c82d-e9d8-bd35f9a32353","fromProperty":"eventReceived","toId":"157036f5-6f5e-14fe-0492-7e6adcdf12c0","toProperty":"run"},{"fromId":"8f68186e-e5b0-c020-8039-57e0c6915a40","fromProperty":"eventReceived","toId":"0df37ead-a889-2f3f-7e27-8d9ae52d1890","toProperty":"fetch"},{"fromId":"8f68186e-e5b0-c020-8039-57e0c6915a40","fromProperty":"eventReceived","toId":"157036f5-6f5e-14fe-0492-7e6adcdf12c0","toProperty":"run"},{"fromId":"0df37ead-a889-2f3f-7e27-8d9ae52d1890","fromProperty":"prop-loggedIn","toId":"157036f5-6f5e-14fe-0492-7e6adcdf12c0","toProperty":"in-loggedIn"},{"fromId":"ff29edba-e02d-bfd1-225a-5862dcf8584a","fromProperty":"onClick","toId":"fb1a4da2-bbc9-64a0-b398-47cc881826b7","toProperty":"Do"},{"fromId":"fb1a4da2-bbc9-64a0-b398-47cc881826b7","fromProperty":"Success","toId":"847e87d5-8cb6-e96c-f3e7-43a8092278d7","toProperty":"navigate"}],"roots":[{"id":"0011ae2f-50ae-2740-064a-cd00e04f444d","type":"Group","x":1768,"y":440,"parameters":{"paddingTop":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"borderBottomStyle":"solid","borderBottomColor":"#5836F533","borderBottomWidth":{"value":1,"unit":"px"},"boxShadowEnabled":false,"boxShadowOffsetY":{"value":8,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowColor":"#5836F533","borderStyle":"none","maxHeight":{"value":80,"unit":"px"},"mounted":true,"sizeMode":"contentHeight","position":"sticky","flexDirection":"row"},"ports":[],"dynamicports":[],"children":[{"id":"51f71eb6-f34e-db26-fc73-035e73b5ed8f","type":"Group","parameters":{"alignY":"center","flexDirection":"row","marginRight":{"value":20,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"67e25ebe-5a87-40e6-5102-6496deb03359","type":"Group","parameters":{"sizeMode":"contentWidth","alignY":"center","marginRight":{"value":10,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"a6df1b10-10bb-73a0-ae16-307f8c68b19c","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"home","codeAsClass":false},"iconColor":"Grey - 700","iconSize":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"08515f01-1ab1-b5e3-9f2e-5942caf9b2e9","type":"Text","parameters":{"text":"Logged out"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"7d9a09fd-eac4-6bce-c3cf-a52c2116c889","type":"Group","label":"logged out","parameters":{"borderStyle":"none","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","sizeMode":"contentSize","flexDirection":"row","paddingTop":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingLeft":{"value":10,"unit":"px"},"justifyContent":"space-between","borderRadius":{"value":5,"unit":"px"},"mounted":false,"columnGap":{"value":20,"unit":"px"},"alignY":"center"},"ports":[],"dynamicports":[],"children":[{"id":"f876239a-dd03-d839-963c-d5edadc7ce98","type":"net.noodl.controls.button","label":"Log in","parameters":{"label":"Log in"},"ports":[],"dynamicports":[],"children":[]},{"id":"71b50c03-6a87-f46e-22b1-5dfa6da26d57","type":"net.noodl.controls.button","label":"Sign up","parameters":{"label":"Sign up","alignY":"center"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"9853ed5f-756a-09e0-6ef1-63b4ffd09eff","type":"Group","label":"logged in","parameters":{"borderStyle":"none","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","sizeMode":"contentSize","flexDirection":"row","paddingTop":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingLeft":{"value":10,"unit":"px"},"justifyContent":"space-between","borderRadius":{"value":5,"unit":"px"},"mounted":false,"columnGap":{"value":16,"unit":"px"},"alignY":"center"},"ports":[],"dynamicports":[],"children":[{"id":"c144cd26-f80e-ab5c-d7cc-0f950641d8f5","type":"net.noodl.controls.button","label":"Main button","parameters":{"label":"Main"},"ports":[],"dynamicports":[],"children":[]},{"id":"efd1690e-50bc-7665-0653-5b502388a8ae","type":"net.noodl.controls.button","label":"Profile button","parameters":{"label":"Profile"},"ports":[],"dynamicports":[],"children":[]},{"id":"ff29edba-e02d-bfd1-225a-5862dcf8584a","type":"net.noodl.controls.button","label":"Log out button","parameters":{"sizeMode":"contentSize","alignY":"center","useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"logout","codeAsClass":false},"iconColor":"Grey - 700","iconSize":{"value":16,"unit":"px"},"backgroundColor":"transparent","minWidth":{"value":0,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"fb1a4da2-bbc9-64a0-b398-47cc881826b7","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Log Out","x":2000,"y":1288,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"15594a06-b9f8-4aa0-b940-9d6d353c2c58","type":"RouterNavigate","x":2074.6194700103306,"y":466.902622156509,"parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Landing"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Landing","/#Supabase Prefab/Supabase Prefab/Pages/Forgot password","/#Supabase Prefab/Supabase Prefab/Pages/Email confirmation","/#Supabase Prefab/Supabase Prefab/Pages/Log in with Magic link","/#Supabase Prefab/Supabase Prefab/Pages/Log in","/#Supabase Prefab/Supabase Prefab/Pages/Reset password","/#Supabase Prefab/Supabase Prefab/Pages/Sign up","/Firebase/Reset Firebase Password","/Firebase/Update Firebase Email"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]},{"id":"0df37ead-a889-2f3f-7e27-8d9ae52d1890","type":"Model2","x":685.284515100888,"y":556.9005454311791,"parameters":{"modelId":"currentUser","properties":"loggedIn,auth,profile"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-loggedIn","displayName":"loggedIn","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"loggedIn Changed","name":"changed-loggedIn","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-auth","displayName":"auth","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"auth Changed","name":"changed-auth","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-profile","displayName":"profile","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"profile Changed","name":"changed-profile","index":12}],"children":[]},{"id":"00c6b474-38c5-c24b-3c0c-cd061461dddd","type":"States","x":1208,"y":560,"parameters":{"states":"logged in,logged out","values":"logged in,header message","type-logged in":"boolean","type-message":"string","type-header message":"string","currentState":"false","value-logged in-logged in":true,"value-logged in-header message":"logged IN","value-logged out-header message":"logged OUT","useTransitions":false},"ports":[],"dynamicports":[{"type":{"name":"boolean","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"logged in","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"logged in","name":"type-logged in","index":7},{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"header message","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"header message","name":"type-header message","index":9},{"plug":"input","type":"boolean","group":"logged in Values","name":"value-logged in-logged in","displayName":"logged in","editorName":"logged in|logged in","index":10},{"plug":"input","type":"string","group":"logged in Values","name":"value-logged in-header message","displayName":"header message","editorName":"logged in|header message","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To logged in","name":"to-logged in","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At logged in","name":"at-logged in","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached logged in","name":"reached-logged in","group":"Current state","index":14},{"plug":"input","type":"boolean","group":"logged out Values","name":"value-logged out-logged in","displayName":"logged in","editorName":"logged out|logged in","index":15},{"plug":"input","type":"string","group":"logged out Values","name":"value-logged out-header message","displayName":"header message","editorName":"logged out|header message","index":16},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To logged out","name":"to-logged out","group":"Go to state","index":17},{"plug":"output","type":"boolean","displayName":"At logged out","name":"at-logged out","group":"Current state","index":18},{"plug":"output","type":"signal","displayName":"Has Reached logged out","name":"reached-logged out","group":"Current state","index":19},{"plug":"input","type":{"name":"enum","enums":["logged in","logged out"]},"group":"States","displayName":"State","name":"currentState","default":"logged in","index":20}],"children":[]},{"id":"cb513dce-abe3-7a83-7c0e-f10d4f8ee4bb","type":"RouterNavigate","label":"Log in","x":2020,"y":851,"parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Log in"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Landing","/#Supabase Prefab/Supabase Prefab/Pages/Forgot password","/#Supabase Prefab/Supabase Prefab/Pages/Email confirmation","/#Supabase Prefab/Supabase Prefab/Pages/Log in with Magic link","/#Supabase Prefab/Supabase Prefab/Pages/Log in","/#Supabase Prefab/Supabase Prefab/Pages/Reset password","/#Supabase Prefab/Supabase Prefab/Pages/Sign up","/Firebase/Reset Firebase Password","/Firebase/Update Firebase Email"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]},{"id":"f2134e9f-316d-5c5b-16fa-181dc150d639","type":"RouterNavigate","label":"Sign up","x":2019,"y":947,"parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Sign up"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Landing","/#Supabase Prefab/Supabase Prefab/Pages/Forgot password","/#Supabase Prefab/Supabase Prefab/Pages/Email confirmation","/#Supabase Prefab/Supabase Prefab/Pages/Log in with Magic link","/#Supabase Prefab/Supabase Prefab/Pages/Log in","/#Supabase Prefab/Supabase Prefab/Pages/Reset password","/#Supabase Prefab/Supabase Prefab/Pages/Sign up","/Firebase/Reset Firebase Password","/Firebase/Update Firebase Email"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]},{"id":"441b07be-9c7e-28fa-fd45-07b93cb35791","type":"Boolean To String","x":968,"y":600,"parameters":{"trueString":"logged in","falseString":"logged out"},"ports":[],"dynamicports":[],"children":[]},{"id":"9cc53cb6-4d9f-90ac-d789-1d245f7a4fe8","type":"RouterNavigate","x":2040,"y":1088,"parameters":{"router":"Supabase Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Logged in"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Logged in","/#Supabase Prefab/Supabase Prefab/Pages/User Profile","/#Supabase Prefab/Supabase Prefab/Pages/Update password"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]},{"id":"faaeb34b-26b6-1bc0-1862-e6382db84086","type":"RouterNavigate","x":2032,"y":1184,"parameters":{"router":"Supabase Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/User Profile"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Logged in","/#Supabase Prefab/Supabase Prefab/Pages/User Profile","/#Supabase Prefab/Supabase Prefab/Pages/Update password"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]},{"id":"157036f5-6f5e-14fe-0492-7e6adcdf12c0","type":"JavaScriptFunction","x":1103.3785153579179,"y":234.59672741292525,"parameters":{"functionScript":"if (Inputs.loggedIn) {\n    if (Boolean(Inputs.profile)) {\n        Outputs.display = Inputs.profile.first_name || Inputs.auth.email\n    } else {\n        Outputs.display = Inputs.auth.email\n    }\n} else {\n    Outputs.display = \"Welcome !\"\n}"},"ports":[],"dynamicports":[{"name":"in-loggedIn","displayName":"loggedIn","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-profile","displayName":"profile","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-auth","displayName":"auth","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-display","displayName":"display","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"b386c184-8d43-4cd3-82bf-d82588ab20de","type":"Event Receiver","x":312,"y":216,"parameters":{"channelName":"Supabase User Logged In"},"ports":[],"dynamicports":[],"children":[]},{"id":"2a589192-2fae-c82d-e9d8-bd35f9a32353","type":"Event Receiver","x":312,"y":336,"parameters":{"channelName":"Supabase Current User Updated"},"ports":[],"dynamicports":[],"children":[]},{"id":"8f68186e-e5b0-c020-8039-57e0c6915a40","type":"Event Receiver","x":312,"y":472,"parameters":{"channelName":"Supabase User Logged Out"},"ports":[],"dynamicports":[],"children":[]},{"id":"847e87d5-8cb6-e96c-f3e7-43a8092278d7","type":"RouterNavigate","x":2220.7671034019713,"y":1299.7003206035206,"parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Landing"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"enum","enums":[{"label":"Supabase Not Logged In Router","value":"Supabase Not Logged In Router"},{"label":"Supabase Logged In Router","value":"Supabase Logged In Router"},{"label":"Main","value":"Main"}],"allowEditOnly":true},"group":"General","displayName":"Router","name":"router","index":3},{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Supabase Prefab/Supabase Prefab/Pages/Landing","/#Supabase Prefab/Supabase Prefab/Pages/Forgot password","/#Supabase Prefab/Supabase Prefab/Pages/Email confirmation","/#Supabase Prefab/Supabase Prefab/Pages/Log in with Magic link","/#Supabase Prefab/Supabase Prefab/Pages/Log in","/#Supabase Prefab/Supabase Prefab/Pages/Reset password","/#Supabase Prefab/Supabase Prefab/Pages/Sign up","/Firebase/Reset Firebase Password","/Firebase/Update Firebase Email"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":4}],"children":[]}],"visualRoots":["0011ae2f-50ae-2740-064a-cd00e04f444d"],"comments":[{"text":"Some events need to update the Header. This is handled here.","width":1354,"height":618,"fill":true,"x":245,"y":125,"id":"248b439c-b2ad-38b7-9336-f9691f312231"}]}},{"name":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Fetch Current User Auth","id":"674a344a-37d1-5cae-6a11-aa4843c85911","graph":{"connections":[{"fromId":"e13c8b96-212a-6cca-f144-23d501904a96","fromProperty":"Do","toId":"7497d3c7-030c-43f5-6a9d-37dcf9bc80f2","toProperty":"run"},{"fromId":"7497d3c7-030c-43f5-6a9d-37dcf9bc80f2","fromProperty":"out-loggedIn","toId":"1e9d8600-f568-afad-1f82-bab2d865ebd6","toProperty":"prop-loggedIn"},{"fromId":"1e9d8600-f568-afad-1f82-bab2d865ebd6","fromProperty":"stored","toId":"9c96655c-8f3e-008a-aff2-14e6cf60b42b","toProperty":"Done"},{"fromId":"7497d3c7-030c-43f5-6a9d-37dcf9bc80f2","fromProperty":"out-loggedIn","toId":"9c96655c-8f3e-008a-aff2-14e6cf60b42b","toProperty":"Logged In"},{"fromId":"7497d3c7-030c-43f5-6a9d-37dcf9bc80f2","fromProperty":"out-Done","toId":"1e9d8600-f568-afad-1f82-bab2d865ebd6","toProperty":"store"}],"roots":[{"id":"e13c8b96-212a-6cca-f144-23d501904a96","type":"Component Inputs","x":-2027.136867417677,"y":-135.36210469780602,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"9c96655c-8f3e-008a-aff2-14e6cf60b42b","type":"Component Outputs","x":-1367.3783035250208,"y":-18.74983058846044,"parameters":{},"ports":[{"name":"Done","plug":"input","type":"*","index":0},{"name":"Logged In","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"7497d3c7-030c-43f5-6a9d-37dcf9bc80f2","type":"JavaScriptFunction","label":"getSession","x":-1837.7573874675568,"y":-161.29195264965978,"parameters":{"functionScript":"if (!Boolean(Noodl.Variables.supabase)) {\n  console.error(\"Supabase client is not initialized\")\n  return\n}\n\nconst {data, error} = await Noodl.Variables.supabase.auth.getSession()\nconsole.log(\"data.session\", data.session)\n\nif (data.session) {\n  Noodl.Objects.currentUser.auth = data.session.user\n  Noodl.Objects.currentUser.session = data.session\n\n  Outputs.loggedIn = Boolean(data.session)\n} else {\n  Outputs.loggedIn = false\n}\n\nOutputs.Done()","scriptOutputs":[{"id":"dffg","label":"loggedIn"}],"outtype-loggedIn":"boolean"},"ports":[],"dynamicports":[{"name":"outtype-loggedIn","displayName":"Type","editorName":"loggedIn | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"dffg","index":4},{"name":"out-loggedIn","displayName":"loggedIn","plug":"output","type":"boolean","group":"Outputs","index":5},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":6}],"conflicts":[],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"1e9d8600-f568-afad-1f82-bab2d865ebd6","type":"SetModelProperties","x":-1574.2543865487032,"y":-219.26530174158268,"parameters":{"modelId":"currentUser","properties":"loggedIn","type-loggedIn":"boolean","type-emailConfirmed":"boolean"},"ports":[],"dynamicports":[{"type":{"name":"boolean"},"plug":"input","group":"Property Values","displayName":"loggedIn","name":"prop-loggedIn","index":6},{"type":{"name":"enum","enums":[{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Number","value":"number"},{"label":"Date","value":"date"},{"label":"Array","value":"array"},{"label":"Object","value":"object"},{"label":"Any","value":"*"}],"allowEditOnly":true},"default":"*","plug":"input","group":"Property Types","displayName":"loggedIn","name":"type-loggedIn","index":7}],"children":[]}],"visualRoots":[]}},{"name":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Fetch Current User Profile Data","id":"4d55538e-709b-2e2b-183a-780880f5a058","graph":{"connections":[{"fromId":"51f37cbe-2356-70ce-c2b9-189e7ac58327","fromProperty":"Do","toId":"e00d0670-ffdc-7e27-43ba-11c2e80f4e47","toProperty":"run"},{"fromId":"e00d0670-ffdc-7e27-43ba-11c2e80f4e47","fromProperty":"out-Failure","toId":"3f023df0-2a8d-d4b1-931a-85043fc4ee5e","toProperty":"Failure"},{"fromId":"e00d0670-ffdc-7e27-43ba-11c2e80f4e47","fromProperty":"out-NoUserData","toId":"3f023df0-2a8d-d4b1-931a-85043fc4ee5e","toProperty":"No User Data"},{"fromId":"e00d0670-ffdc-7e27-43ba-11c2e80f4e47","fromProperty":"out-error","toId":"3f023df0-2a8d-d4b1-931a-85043fc4ee5e","toProperty":"Error"},{"fromId":"e00d0670-ffdc-7e27-43ba-11c2e80f4e47","fromProperty":"out-Success","toId":"5c5a9b2b-9cb7-8cc3-760b-8e066be93018","toProperty":"sendEvent"},{"fromId":"e00d0670-ffdc-7e27-43ba-11c2e80f4e47","fromProperty":"out-Success","toId":"3f023df0-2a8d-d4b1-931a-85043fc4ee5e","toProperty":"Success"}],"roots":[{"id":"51f37cbe-2356-70ce-c2b9-189e7ac58327","type":"Component Inputs","x":323,"y":91,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"3f023df0-2a8d-d4b1-931a-85043fc4ee5e","type":"Component Outputs","x":963,"y":93,"parameters":{},"ports":[{"name":"Success","plug":"input","type":{"name":"*"},"index":0},{"name":"Failure","plug":"input","type":{"name":"*"},"index":1},{"name":"No User Data","plug":"input","type":{"name":"*"},"index":2},{"name":"Error","plug":"input","type":{"name":"*"},"index":3},{"name":"Data","plug":"input","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"e00d0670-ffdc-7e27-43ba-11c2e80f4e47","type":"JavaScriptFunction","x":543,"y":92,"parameters":{"functionScript":"if (!Boolean(Noodl.Variables.supabase)){\n    console.error(\"Supabase client not initialized\")\n    return\n}\n\n if (!Boolean(Noodl.Object.exists(\"currentUser\"))) {\n    console.error(\"currentUser fetchProfile Data : currentUser is not initialized\")\n    return\n}\n\n if (!Boolean(Noodl.Objects.currentUser.auth.id)) {\n    console.error(\"currentUser supabase id is not initialized\")\n    return\n}\n\n const userId = Noodl.Objects.currentUser.auth.id\n\ntry {\n\n    let userProfileTable = Noodl.Variables.Supabase_userProfileTableName\n\n    const { data, error } = await Noodl.Variables.supabase\n        .from(userProfileTable)\n        .select()\n        .eq(\"id\",userId)\n    \n    console.log(\"[fetch currentUser Profile] data : \",data)\n\n    if (data.length>0) {\n        let currUser = Noodl.Object.get(\"currentUser\")\n        //data[0].sbid = data[0].id\n        //data[0].id = \"userProfile\"\n        currUser.set(\"profile\", data[0])\n        console.log(\"[currentUser fetchProfileData] retrieving user profile\", currUser.profile)\n\n        Outputs.Success()\n\n    } else {\n        Outputs.error = \"No such user\"\n        Outputs.NoUserData()\n    }\n\n} catch (error) {\n    console.error(error)\n    Outputs.Failure()\n}\n"},"ports":[],"dynamicports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-NoUserData","displayName":"NoUserData","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"07c1e458-0485-07f5-5870-af11c584a80d","type":"Event Sender","x":-398.8333333333335,"y":-7.333333333333371,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"5c5a9b2b-9cb7-8cc3-760b-8e066be93018","type":"Event Sender","x":962.5,"y":-18.1953125,"parameters":{"channelName":"Supabase Current User Updated"},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Log In","id":"5c968351-acf7-915f-4575-e7e2690194c6","graph":{"connections":[{"fromId":"9db0cd39-85de-4031-c7a8-08c9aa4c01bb","fromProperty":"Do","toId":"5add4572-cf27-9752-638f-012eb9c4fe0c","toProperty":"run"},{"fromId":"9db0cd39-85de-4031-c7a8-08c9aa4c01bb","fromProperty":"Email","toId":"5add4572-cf27-9752-638f-012eb9c4fe0c","toProperty":"in-email"},{"fromId":"9db0cd39-85de-4031-c7a8-08c9aa4c01bb","fromProperty":"Password","toId":"5add4572-cf27-9752-638f-012eb9c4fe0c","toProperty":"in-password"},{"fromId":"5add4572-cf27-9752-638f-012eb9c4fe0c","fromProperty":"out-Failure","toId":"53d34fcf-1096-d085-4a7e-24b02f117adc","toProperty":"Failure"},{"fromId":"5add4572-cf27-9752-638f-012eb9c4fe0c","fromProperty":"out-error","toId":"53d34fcf-1096-d085-4a7e-24b02f117adc","toProperty":"Error"},{"fromId":"5add4572-cf27-9752-638f-012eb9c4fe0c","fromProperty":"out-Success","toId":"53d34fcf-1096-d085-4a7e-24b02f117adc","toProperty":"Success"},{"fromId":"5add4572-cf27-9752-638f-012eb9c4fe0c","fromProperty":"out-Success","toId":"d3d7dc64-f09b-a038-ec73-2de7e2dd9796","toProperty":"sendEvent"}],"roots":[{"id":"9db0cd39-85de-4031-c7a8-08c9aa4c01bb","type":"Component Inputs","x":-374,"y":18,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Email","plug":"output","type":{"name":"*"},"index":1},{"name":"Password","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"53d34fcf-1096-d085-4a7e-24b02f117adc","type":"Component Outputs","x":71.13029291013777,"y":17.71490362737029,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Data","plug":"input","type":{"name":"*"},"index":2},{"name":"Error","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"5add4572-cf27-9752-638f-012eb9c4fe0c","type":"JavaScriptFunction","label":"logIn","x":-171,"y":4,"parameters":{"functionScript":"//console.clear()\n\nif (!Boolean(Noodl.Variables.supabase)) {\n  console.error(\"Supabase client not initialized\")\n  return\n}\n\nlet { data, error } = await Noodl.Variables.supabase.auth.signInWithPassword({\n  email: Inputs.email,\n  password: Inputs.password,\n})\n\nif (error) {\n\n  Noodl.Objects.currentUser.loggedIn = false\n\n  switch (error.message) {\n    case \"Invalid login credentials\":\n      Outputs.error = \"401\"\n      break;\n    case \"Email not confirmed\":\n      Outputs.error = \"402\"\n      break;\n    default:\n      Outputs.error = \"400\"\n\n  }\n  console.error(\"[log in] error: \", error)\n  Outputs.Failure()\n\n} else {\n\n  Outputs.data = data\n  Outputs.error = \"200\"\n  Noodl.Objects.currentUser.loggedIn = true\n  Noodl.Objects.currentUser.auth = data.user\n  Noodl.Objects.currentUser.session = data.session\n  //data.session.user.sbid = data.session.user.id\n  //Noodl.Objects.currentUser.setAll(data)\n\n  Outputs.Success()\n\n}"},"ports":[],"dynamicports":[{"name":"in-email","displayName":"email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-password","displayName":"password","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":9}],"conflicts":[],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"d3d7dc64-f09b-a038-ec73-2de7e2dd9796","type":"Event Sender","x":70.54343097004596,"y":-93.09503212420992,"parameters":{"channelName":"Supabase User Logged In"},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Log Out","id":"edcb1526-7975-46fa-07ae-b0d5defe119d","graph":{"connections":[{"fromId":"2ca9f1d3-90d9-d446-1170-50961ca39450","fromProperty":"Do","toId":"9c57bd17-8c6f-0e58-735a-d5e38f2a8c72","toProperty":"run"},{"fromId":"9c57bd17-8c6f-0e58-735a-d5e38f2a8c72","fromProperty":"out-Failure","toId":"7abb9791-20aa-47e6-8b1d-dd7c846fa0e9","toProperty":"Failure"},{"fromId":"9c57bd17-8c6f-0e58-735a-d5e38f2a8c72","fromProperty":"out-error","toId":"7abb9791-20aa-47e6-8b1d-dd7c846fa0e9","toProperty":"Error"},{"fromId":"9c57bd17-8c6f-0e58-735a-d5e38f2a8c72","fromProperty":"out-Success","toId":"7abb9791-20aa-47e6-8b1d-dd7c846fa0e9","toProperty":"Success"},{"fromId":"9c57bd17-8c6f-0e58-735a-d5e38f2a8c72","fromProperty":"out-Success","toId":"d6732658-04fc-cc02-454d-2949b70295f1","toProperty":"sendEvent"}],"roots":[{"id":"2ca9f1d3-90d9-d446-1170-50961ca39450","type":"Component Inputs","x":-75,"y":-77,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"7abb9791-20aa-47e6-8b1d-dd7c846fa0e9","type":"Component Outputs","x":436,"y":-56,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Error","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"9c57bd17-8c6f-0e58-735a-d5e38f2a8c72","type":"JavaScriptFunction","x":155,"y":-79,"parameters":{"functionScript":"if (!Boolean(Noodl.Variables.supabase)) {\n  console.error(\"Supabase client is not initialized\")\n  return\n}\n\nlet { error } = await Noodl.Variables.supabase.auth.signOut()\n\nif (!!error) {\n\n    console.error(JSON.stringify(error))\n    Outputs.error = error\n    Outputs.Failure()\n\n} else {\n  \n    Noodl.Objects.currentUser.auth = null\n    Noodl.Objects.currentUser.profile = null\n    Noodl.Objects.currentUser.session = null\n    Noodl.Objects.currentUser.loggedIn = false\n    console.log(\"[logout] currentUser = \", Noodl.Objects.currentUser)\n\n    Outputs.Success()\n}"},"ports":[],"dynamicports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"d6732658-04fc-cc02-454d-2949b70295f1","type":"Event Sender","x":437.5,"y":-170.33333333333337,"parameters":{"channelName":"Supabase User Logged Out"},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Resend Confirmation","id":"c4a40ef7-7aa0-49fe-a223-803898bbffad","graph":{"connections":[{"fromId":"737aef01-f140-eeaf-4a6d-cf93c884c332","fromProperty":"Do","toId":"d2275a16-6aa1-05b6-3793-165698a74a2d","toProperty":"run"},{"fromId":"d2275a16-6aa1-05b6-3793-165698a74a2d","fromProperty":"out-Success","toId":"84120fde-1596-71ce-7e22-93776fef5062","toProperty":"Success"},{"fromId":"d2275a16-6aa1-05b6-3793-165698a74a2d","fromProperty":"out-Failure","toId":"84120fde-1596-71ce-7e22-93776fef5062","toProperty":"Failure"},{"fromId":"737aef01-f140-eeaf-4a6d-cf93c884c332","fromProperty":"Email","toId":"d2275a16-6aa1-05b6-3793-165698a74a2d","toProperty":"in-email"}],"roots":[{"id":"737aef01-f140-eeaf-4a6d-cf93c884c332","type":"Component Inputs","x":-22,"y":1,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Email","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"84120fde-1596-71ce-7e22-93776fef5062","type":"Component Outputs","x":399,"y":5,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"data","plug":"input","type":{"name":"*"},"index":2},{"name":"error","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"d2275a16-6aa1-05b6-3793-165698a74a2d","type":"JavaScriptFunction","x":172,"y":3,"parameters":{"functionScript":"const { data, error } = await Noodl.Variables.supabase.auth.resend({\n  type: 'signup',\n  email: Inputs.email\n})\n\n\nconsole.log(\"[Resend confirmation] data\", data);\nconsole.log(\"[Resend confirmation] error\", error);\n\nif (Boolean(error)) {\n  Outputs.Failure()\n  console.error(\"[Resend confirmation] error\", error)\n} else {\n  console.log(\"[Resend confirmation] Success. Email sent.\")\n  Outputs.Success()\n}"},"ports":[],"dynamicports":[{"name":"in-email","displayName":"email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Send Magic Link","id":"09438688-c66a-f792-3294-28d1856a831b","graph":{"connections":[{"fromId":"dd69517c-f76b-922b-97ea-976c97b9e36a","fromProperty":"Do","toId":"e2476150-d93a-4f1e-9d1d-dff10b4ee9b9","toProperty":"run"},{"fromId":"dd69517c-f76b-922b-97ea-976c97b9e36a","fromProperty":"Email","toId":"e2476150-d93a-4f1e-9d1d-dff10b4ee9b9","toProperty":"in-email"},{"fromId":"e2476150-d93a-4f1e-9d1d-dff10b4ee9b9","fromProperty":"out-Success","toId":"f2d47028-f2d8-76db-3bf8-99506c19a0ae","toProperty":"Success"},{"fromId":"e2476150-d93a-4f1e-9d1d-dff10b4ee9b9","fromProperty":"out-Failure","toId":"f2d47028-f2d8-76db-3bf8-99506c19a0ae","toProperty":"Failure"},{"fromId":"e2476150-d93a-4f1e-9d1d-dff10b4ee9b9","fromProperty":"out-data","toId":"f2d47028-f2d8-76db-3bf8-99506c19a0ae","toProperty":"Data"},{"fromId":"e2476150-d93a-4f1e-9d1d-dff10b4ee9b9","fromProperty":"out-error","toId":"f2d47028-f2d8-76db-3bf8-99506c19a0ae","toProperty":"Error"}],"roots":[{"id":"dd69517c-f76b-922b-97ea-976c97b9e36a","type":"Component Inputs","x":-82,"y":-33,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Email","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"f2d47028-f2d8-76db-3bf8-99506c19a0ae","type":"Component Outputs","x":393,"y":-20,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Data","plug":"input","type":{"name":"*"},"index":2},{"name":"Error","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"e2476150-d93a-4f1e-9d1d-dff10b4ee9b9","type":"JavaScriptFunction","x":162,"y":-23,"parameters":{"functionScript":"\nlet { data, error } = await Noodl.Variables.supabase.auth.signInWithOtp({\n  email: Inputs.email\n})\n\nconsole.log(\"data\", data);\nconsole.log(\"error\", error);\n\nOutputs.data = JSON.stringify(data)\nOutputs.error = JSON.stringify(error)\n\nif (data) {\n  console.log(\"if loop\")\n  Outputs.Success()\n} else {\n  console.log(\"else loop\")\n  Outputs.Failure()\n}"},"ports":[],"dynamicports":[{"name":"in-email","displayName":"email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Send Password Reset","id":"77239c43-fb5a-9b84-1147-ed082a555f31","graph":{"connections":[{"fromId":"a7837d7d-930d-668a-eead-cebb457abadc","fromProperty":"Do","toId":"f80d049b-d266-19c1-6af1-fb7e77a43057","toProperty":"run"},{"fromId":"a7837d7d-930d-668a-eead-cebb457abadc","fromProperty":"Email","toId":"f80d049b-d266-19c1-6af1-fb7e77a43057","toProperty":"in-email"},{"fromId":"f80d049b-d266-19c1-6af1-fb7e77a43057","fromProperty":"out-Success","toId":"716b6b58-fac0-9558-03eb-f1a84f6e4a91","toProperty":"Success"},{"fromId":"f80d049b-d266-19c1-6af1-fb7e77a43057","fromProperty":"out-Failure","toId":"716b6b58-fac0-9558-03eb-f1a84f6e4a91","toProperty":"Failure"},{"fromId":"f80d049b-d266-19c1-6af1-fb7e77a43057","fromProperty":"out-data","toId":"716b6b58-fac0-9558-03eb-f1a84f6e4a91","toProperty":"Data"},{"fromId":"f80d049b-d266-19c1-6af1-fb7e77a43057","fromProperty":"out-error","toId":"716b6b58-fac0-9558-03eb-f1a84f6e4a91","toProperty":"Error"},{"fromId":"de89af39-1eb6-6388-ff55-8c48c6f34b5c","fromProperty":"savedValue","toId":"f80d049b-d266-19c1-6af1-fb7e77a43057","toProperty":"in-redirectPath"}],"roots":[{"id":"a7837d7d-930d-668a-eead-cebb457abadc","type":"Component Inputs","x":-158,"y":55,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Email","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"716b6b58-fac0-9558-03eb-f1a84f6e4a91","type":"Component Outputs","x":399,"y":5,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Data","plug":"input","type":{"name":"*"},"index":2},{"name":"Error","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"f80d049b-d266-19c1-6af1-fb7e77a43057","type":"JavaScriptFunction","x":163,"y":37,"parameters":{"functionScript":"const redirectUrl = window.location.origin + Inputs.redirectPath + \"?email=\" + Inputs.email;\n\nlet { data, error } = await Noodl.Variables.supabase.auth.resetPasswordForEmail(\n  Inputs.email, {redirectTo: redirectUrl }\n  )\n\nOutputs.data = JSON.stringify(data)\nOutputs.error = JSON.stringify(error)\n\nif (data) {\n  Outputs.Success()\n} else {\n  Outputs.Failure()\n}"},"ports":[],"dynamicports":[{"name":"in-redirectPath","displayName":"redirectPath","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-email","displayName":"email","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"de89af39-1eb6-6388-ff55-8c48c6f34b5c","type":"String","label":"redirectPath","x":-75,"y":-46.66666666666663,"parameters":{"value":"/update-password"},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Sign Up","id":"73840632-0243-a05e-988f-494bd3786b2f","graph":{"connections":[{"fromId":"8a6ea01c-d22e-fded-393c-94dae3c0fbfa","fromProperty":"Do","toId":"dccd1769-d206-47f5-cd8a-d8427e6eed1d","toProperty":"run"},{"fromId":"8a6ea01c-d22e-fded-393c-94dae3c0fbfa","fromProperty":"Email","toId":"dccd1769-d206-47f5-cd8a-d8427e6eed1d","toProperty":"in-email"},{"fromId":"8a6ea01c-d22e-fded-393c-94dae3c0fbfa","fromProperty":"Password","toId":"dccd1769-d206-47f5-cd8a-d8427e6eed1d","toProperty":"in-password"},{"fromId":"dccd1769-d206-47f5-cd8a-d8427e6eed1d","fromProperty":"out-Success","toId":"360c6fbd-7e19-4ebf-8829-7f79d13d29ce","toProperty":"Success"},{"fromId":"dccd1769-d206-47f5-cd8a-d8427e6eed1d","fromProperty":"out-Failure","toId":"360c6fbd-7e19-4ebf-8829-7f79d13d29ce","toProperty":"Failure"},{"fromId":"dccd1769-d206-47f5-cd8a-d8427e6eed1d","fromProperty":"out-data","toId":"360c6fbd-7e19-4ebf-8829-7f79d13d29ce","toProperty":"Data"},{"fromId":"dccd1769-d206-47f5-cd8a-d8427e6eed1d","fromProperty":"out-isConnected","toId":"360c6fbd-7e19-4ebf-8829-7f79d13d29ce","toProperty":"Is Connected"},{"fromId":"dccd1769-d206-47f5-cd8a-d8427e6eed1d","fromProperty":"out-error","toId":"360c6fbd-7e19-4ebf-8829-7f79d13d29ce","toProperty":"Error"}],"roots":[{"id":"8a6ea01c-d22e-fded-393c-94dae3c0fbfa","type":"Component Inputs","x":-497,"y":-23,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Email","plug":"output","type":{"name":"*"},"index":1},{"name":"Password","plug":"output","type":{"name":"*"},"index":2},{"name":"First Name","plug":"output","type":{"name":"*"},"index":3},{"name":"Last Name","plug":"output","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"360c6fbd-7e19-4ebf-8829-7f79d13d29ce","type":"Component Outputs","x":39.48764119054016,"y":-25.916107285303724,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Data","plug":"input","type":{"name":"*"},"index":2},{"name":"Is Connected","plug":"input","type":{"name":"*"},"index":4},{"name":"Error","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"dccd1769-d206-47f5-cd8a-d8427e6eed1d","type":"JavaScriptFunction","x":-268.5,"y":-22.5,"parameters":{"functionScript":"// const supabase = Noodl.Variables.supabase;\n\n// const email = Inputs.email\n// const password = Inputs.password\nif (!Boolean(Noodl.Variables.supabase)) {\n  console.error(\"Supabase client is not configured !\")\n  return\n}\n\nlet { data, error } = await Noodl.Variables.supabase.auth.signUp({\n  email: Inputs.email,\n  password: Inputs.password,\n})\n\nconsole.log(\"[signup] data\", data);\nconsole.log(\"[signup] error\", error);\n\nif (error) {\n  Outputs.error = error\n  Outputs.isConnected = false\n  Outputs.Failure()\n} else {\n  Outputs.data = data\n  Outputs.isConnected = Boolean(data.session)\n  Outputs.Success()\n}\n"},"ports":[],"dynamicports":[{"name":"in-email","displayName":"email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-password","displayName":"password","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-isConnected","displayName":"isConnected","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Update Current User Auth","id":"bc2feced-3dcd-67eb-0f0c-c4221cc4087d","graph":{"connections":[{"fromId":"61526c14-8a25-fb27-f523-f2d1b4098564","fromProperty":"Do","toId":"30c3d376-fd6b-80ff-9174-bf5e8f3e6c07","toProperty":"run"},{"fromId":"30c3d376-fd6b-80ff-9174-bf5e8f3e6c07","fromProperty":"out-data","toId":"f41060db-7fdd-b2df-fba9-2bd916b478e6","toProperty":"Data"},{"fromId":"30c3d376-fd6b-80ff-9174-bf5e8f3e6c07","fromProperty":"out-error","toId":"f41060db-7fdd-b2df-fba9-2bd916b478e6","toProperty":"Error"},{"fromId":"61526c14-8a25-fb27-f523-f2d1b4098564","fromProperty":"Email","toId":"30c3d376-fd6b-80ff-9174-bf5e8f3e6c07","toProperty":"in-email"},{"fromId":"61526c14-8a25-fb27-f523-f2d1b4098564","fromProperty":"Password","toId":"30c3d376-fd6b-80ff-9174-bf5e8f3e6c07","toProperty":"in-password"},{"fromId":"30c3d376-fd6b-80ff-9174-bf5e8f3e6c07","fromProperty":"out-Success","toId":"f41060db-7fdd-b2df-fba9-2bd916b478e6","toProperty":"Success"},{"fromId":"30c3d376-fd6b-80ff-9174-bf5e8f3e6c07","fromProperty":"out-Failure","toId":"f41060db-7fdd-b2df-fba9-2bd916b478e6","toProperty":"Failure"}],"roots":[{"id":"61526c14-8a25-fb27-f523-f2d1b4098564","type":"Component Inputs","x":-233,"y":-48,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Email","plug":"output","type":{"name":"*"},"index":1},{"name":"Password","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"f41060db-7fdd-b2df-fba9-2bd916b478e6","type":"Component Outputs","x":281,"y":-39,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Data","plug":"input","type":{"name":"*"},"index":2},{"name":"Error","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"30c3d376-fd6b-80ff-9174-bf5e8f3e6c07","type":"JavaScriptFunction","x":26.5,"y":-46,"parameters":{"functionScript":"if (!Boolean(Noodl.Variables.supabase)) {\n  console.error(\"Supabase client is not initialized\")\n  return\n}\n\nconst { data, error } = await Noodl.Variables.supabase.auth.updateUser({\n  email: Inputs.email,\n  password: Inputs.password,\n})\n\nif (error) {\n\n  Outputs.error = error\n  Outputs.Failure()\n\n} else {\n  Outputs.data = data\n  Outputs.Success()\n}\n\n\n"},"ports":[],"dynamicports":[{"name":"in-email","displayName":"email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-password","displayName":"password","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Update Current User Profile Data","id":"55ce5dd6-ca65-2ea4-3b34-f9f17110814f","graph":{"connections":[{"fromId":"4f6dda7f-c5a1-64d6-b85a-d73f855781aa","fromProperty":"Do","toId":"aa28406e-04d0-df9f-22d4-8fb42f265fd1","toProperty":"run"},{"fromId":"aa28406e-04d0-df9f-22d4-8fb42f265fd1","fromProperty":"out-error","toId":"21932018-9728-76fc-a0c1-2d055971c081","toProperty":"Error"},{"fromId":"aa28406e-04d0-df9f-22d4-8fb42f265fd1","fromProperty":"out-Failure","toId":"21932018-9728-76fc-a0c1-2d055971c081","toProperty":"Failure"},{"fromId":"4f6dda7f-c5a1-64d6-b85a-d73f855781aa","fromProperty":"Data","toId":"aa28406e-04d0-df9f-22d4-8fb42f265fd1","toProperty":"in-data"},{"fromId":"aa28406e-04d0-df9f-22d4-8fb42f265fd1","fromProperty":"out-Success","toId":"af4277c7-07ba-e05e-a6b7-bc44395c2eb0","toProperty":"Do"},{"fromId":"af4277c7-07ba-e05e-a6b7-bc44395c2eb0","fromProperty":"Success","toId":"21932018-9728-76fc-a0c1-2d055971c081","toProperty":"Success"},{"fromId":"af4277c7-07ba-e05e-a6b7-bc44395c2eb0","fromProperty":"Failure","toId":"21932018-9728-76fc-a0c1-2d055971c081","toProperty":"Failure"}],"roots":[{"id":"4f6dda7f-c5a1-64d6-b85a-d73f855781aa","type":"Component Inputs","x":-369,"y":-8,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Data","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"21932018-9728-76fc-a0c1-2d055971c081","type":"Component Outputs","x":292,"y":-11,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Data","plug":"input","type":{"name":"*"},"index":2},{"name":"Error","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"aa28406e-04d0-df9f-22d4-8fb42f265fd1","type":"JavaScriptFunction","x":-155.5,"y":-7,"parameters":{"functionScript":"if (!Boolean(Noodl.Variables.supabase)) {\n  console.error(\"Supabase client is not initialized\")\n  return\n}\nlet currUser = Noodl.Object.get(\"currentUser\")\nconsole.log(\"[updateUserData] sbid : \",currUser.sbid)\nconsole.log(\"[updateUserData] data to Update : \",Inputs.data)\n\nconst upData = Inputs.data\n\nconst { data, error } = await Noodl.Variables.supabase\n    .from(\"user_profile\")\n    .upsert(upData)\n\nconsole.log(\"[updateUserData] error : \",error)\nconsole.log(\"[updateUserData] data : \",data)\n\nif (error) {\n\n  Outputs.error = error\n  Outputs.Failure()\n\n} else {\n  Outputs.data = data\n  Outputs.Success()\n}\n\n\n"},"ports":[],"dynamicports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"af4277c7-07ba-e05e-a6b7-bc44395c2eb0","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Fetch Current User Profile Data","x":70.25,"y":120.08333333333331,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/Firebase/App","graph":{"connections":[{"fromId":"246f9453-a119-ac78-171e-3806cf596ecc","fromProperty":"didMount","toId":"50dfc8ce-7a08-9adb-1c3b-e7c072cb2a17","toProperty":"Do"}],"roots":[{"id":"246f9453-a119-ac78-171e-3806cf596ecc","type":"Group","x":-111.4681915301291,"y":311.4376377651178,"parameters":{"backgroundColor":"#FFFFFF","minHeight":{"value":100,"unit":"vh"}},"ports":[],"dynamicports":[],"children":[{"id":"a24a02ae-c1b8-1250-72c3-a1d48cbc9558","type":"Router","parameters":{"name":"Main","pages":{"routes":["/Firebase/Start Page","/Firebase/Sign-up with Firebase","/Firebase/Reset Firebase Password","/Firebase/Update Firebase Email"],"startPage":"/Firebase/Start Page"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"50dfc8ce-7a08-9adb-1c3b-e7c072cb2a17","type":"/Firebase/Firebase_init - Setup Client","x":-353.6348581967958,"y":343.4376377651178,"parameters":{"apiKey":"AIzaSyCaPVTsEYQzmx00TqV09oyqEVfPkMyim9E","authDomain":"uscape-219cc.firebaseapp.com","projectId":"uscape-219cc","storageBucket":"uscape-219cc.appspot.com","messagingSenderId":"83616129510","appId":"1:83616129510:web:d2a294cc5670da40b83627"},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["246f9453-a119-ac78-171e-3806cf596ecc"]},"metadata":{"canvasSize":{"width":"1039px","height":"751px"},"canvasPos":{"x":0,"y":0}}},{"name":"/Firebase/Email Validator","id":"a569ece9-2324-a1c1-0f25-9672d98f8286","graph":{"connections":[{"fromId":"33b4b6ae-5464-23ec-0acd-47f64174420d","fromProperty":"out-isValid","toId":"7d484bc4-3b62-3619-18a9-969de65602ff","toProperty":"condition"},{"fromId":"3c44481c-bb70-d5eb-3f21-643e58f380ee","fromProperty":"email","toId":"33b4b6ae-5464-23ec-0acd-47f64174420d","toProperty":"in-email"},{"fromId":"3c44481c-bb70-d5eb-3f21-643e58f380ee","fromProperty":"Do","toId":"33b4b6ae-5464-23ec-0acd-47f64174420d","toProperty":"run"},{"fromId":"7d484bc4-3b62-3619-18a9-969de65602ff","fromProperty":"ontrue","toId":"e777de23-ef00-170b-2c42-f18a10102024","toProperty":"valid"},{"fromId":"7d484bc4-3b62-3619-18a9-969de65602ff","fromProperty":"onfalse","toId":"e777de23-ef00-170b-2c42-f18a10102024","toProperty":"invalid"},{"fromId":"33b4b6ae-5464-23ec-0acd-47f64174420d","fromProperty":"out-Failure","toId":"e777de23-ef00-170b-2c42-f18a10102024","toProperty":"Failure"}],"roots":[{"id":"3c44481c-bb70-d5eb-3f21-643e58f380ee","type":"Component Inputs","x":-147,"y":-114,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"email","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"e777de23-ef00-170b-2c42-f18a10102024","type":"Component Outputs","x":488,"y":-133,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"valid","plug":"input","type":{"name":"*"},"index":2},{"name":"invalid","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"33b4b6ae-5464-23ec-0acd-47f64174420d","type":"JavaScriptFunction","label":"Function email validator","x":58,"y":-140,"parameters":{"functionScript":"const email = Inputs.email;\r\n\r\nif (window.validator && window.validator.isEmail(email)) {\r\n    console.log(\"The email address is valid.\");\r\n    Outputs.isValid = true;\r\n} else {\r\n    console.log(\"The email address is invalid.\");\r\n    Outputs.isValid = false;\r\n    Outputs.Failure();\r\n}\r\n\r\n// Signal the completion of the operation\r\nOutputs.Done();"},"ports":[],"dynamicports":[{"name":"in-email","displayName":"email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-isValid","displayName":"isValid","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"7d484bc4-3b62-3619-18a9-969de65602ff","type":"Condition","x":272,"y":-54,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/Firebase/Firebase - Get Current User","id":"b7be6952-575d-223a-314a-edfb832ecad1","graph":{"connections":[{"fromId":"111c5f1b-4cc4-20a6-119c-edb6cd89df98","fromProperty":"Do","toId":"99ad1749-9a13-5289-c025-89a0ab0cfe7b","toProperty":"run"},{"fromId":"99ad1749-9a13-5289-c025-89a0ab0cfe7b","fromProperty":"out-loggedIn","toId":"fa099360-38c7-68c9-004e-667a9b5c8e3f","toProperty":"prop-loggedIn"},{"fromId":"99ad1749-9a13-5289-c025-89a0ab0cfe7b","fromProperty":"out-emailVerified","toId":"fa099360-38c7-68c9-004e-667a9b5c8e3f","toProperty":"prop-emailVerified"},{"fromId":"99ad1749-9a13-5289-c025-89a0ab0cfe7b","fromProperty":"out-isAnonymous","toId":"fa099360-38c7-68c9-004e-667a9b5c8e3f","toProperty":"prop-isAnonymous"},{"fromId":"fa099360-38c7-68c9-004e-667a9b5c8e3f","fromProperty":"stored","toId":"dce2cb9f-a909-d0e9-c408-139f5f61e7e9","toProperty":"Done"},{"fromId":"99ad1749-9a13-5289-c025-89a0ab0cfe7b","fromProperty":"out-loggedIn","toId":"dce2cb9f-a909-d0e9-c408-139f5f61e7e9","toProperty":"loggedIn"},{"fromId":"99ad1749-9a13-5289-c025-89a0ab0cfe7b","fromProperty":"out-Done","toId":"fa099360-38c7-68c9-004e-667a9b5c8e3f","toProperty":"store"},{"fromId":"99ad1749-9a13-5289-c025-89a0ab0cfe7b","fromProperty":"out-idToken","toId":"fa099360-38c7-68c9-004e-667a9b5c8e3f","toProperty":"prop-idToken"}],"roots":[{"id":"111c5f1b-4cc4-20a6-119c-edb6cd89df98","type":"Component Inputs","x":-49,"y":-198,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"email","plug":"output","type":{"name":"*"},"index":1},{"name":"password","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"dce2cb9f-a909-d0e9-c408-139f5f61e7e9","type":"Component Outputs","x":663,"y":-99,"parameters":{},"ports":[{"name":"tenantId","plug":"input","type":{"name":"*"},"index":5},{"name":"providerId","plug":"input","type":{"name":"*"},"index":10},{"name":"Done","plug":"input","type":{"name":"*"},"index":11},{"name":"loggedIn","plug":"input","type":{"name":"*"},"index":12}],"dynamicports":[],"children":[]},{"id":"99ad1749-9a13-5289-c025-89a0ab0cfe7b","type":"JavaScriptFunction","label":"Get Current User","x":142,"y":-208.33333333333331,"parameters":{"functionScript":"if (!Boolean(Noodl.Variables.firebaseAuth)) {\r\n  console.error(\"Firebase is not configured or initialized!\");\r\n  return; // Stops the function if Firebase App is not initialized\r\n}\r\n\r\n// Initialize the firebase Auth service\r\nconst auth = window.getAuth();\r\n\r\nauth.onAuthStateChanged((user) => {\r\n  if (user) {\r\n    // User is signed in\r\n    console.log(\"User is signed in\");\r\n\r\n    // Store user details in Noodl.Objects\r\n    Noodl.Objects.currentUser = {\r\n      uid: user.uid,\r\n      emailVerified: user.emailVerified,\r\n      isAnonymous: user.isAnonymous,\r\n      tenantId: user.tenantId,\r\n      userCreationTime: user.metadata.creationTime,\r\n      userLastSignInTime: user.metadata.lastSignInTime,\r\n      refreshToken: user.refreshToken,\r\n      providerData: user.providerData.map((userInfo) => ({\r\n        displayName: userInfo.displayName,\r\n        email: userInfo.email,\r\n        phoneNumber: userInfo.phoneNumber,\r\n        providerId: userInfo.providerId,\r\n        photoURL: userInfo.photoURL\r\n      }))\r\n    };\r\n\r\n    // Indicate the user is logged in\r\n    Outputs.loggedIn = Boolean(user);\r\n\r\n    // Get the JWT ID Token and output it\r\n    user.getIdToken().then((token) => {\r\n      Outputs.idToken = token;\r\n\r\n    }).catch((error) => {\r\n      console.error(\"Error getting ID token: \", error);\r\n    });\r\n  } else {\r\n    // User is signed out\r\n    console.log(\"User is signed out\");\r\n    Noodl.Objects.currentUser = null; // Clear the current user object\r\n    Outputs.loggedIn = false; // Indicate user is not logged in\r\n  }\r\n  Outputs.Done();\r\n});","scriptOutputs":[{"id":"i7yq","label":"emailVerified"},{"id":"vqty","label":"isAnonymous"},{"id":"na9e","label":"userCreationTime"},{"id":"tgqb","label":"userLastSignInTime"},{"id":"vvu6","label":"idToken"},{"id":"fyz9","label":"providerId"},{"id":"uoun","label":"tenantId"},{"id":"krlv","label":"userDisplayName"},{"id":"ogz4","label":"email"},{"id":"g79c","label":"loggedIn"}],"outtype-emailVerified":"boolean","outtype-isAnonymous":"boolean","outtype-anon":"boolean","outtype-verified":"boolean","outtype-userCreationTime":"date","outtype-userLastSignInTime":"date","outtype-loggedIn":"boolean"},"ports":[],"dynamicports":[{"name":"outtype-emailVerified","displayName":"Type","editorName":"emailVerified | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"i7yq","index":4},{"name":"out-emailVerified","displayName":"emailVerified","plug":"output","type":"boolean","group":"Outputs","index":5},{"name":"outtype-isAnonymous","displayName":"Type","editorName":"isAnonymous | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"vqty","index":6},{"name":"out-isAnonymous","displayName":"isAnonymous","plug":"output","type":"boolean","group":"Outputs","index":7},{"name":"outtype-userCreationTime","displayName":"Type","editorName":"userCreationTime | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"na9e","index":8},{"name":"out-userCreationTime","displayName":"userCreationTime","plug":"output","type":"date","group":"Outputs","index":9},{"name":"outtype-userLastSignInTime","displayName":"Type","editorName":"userLastSignInTime | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"tgqb","index":10},{"name":"out-userLastSignInTime","displayName":"userLastSignInTime","plug":"output","type":"date","group":"Outputs","index":11},{"name":"outtype-idToken","displayName":"Type","editorName":"idToken | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"vvu6","index":12},{"name":"out-idToken","displayName":"idToken","plug":"output","type":"*","group":"Outputs","index":13},{"name":"outtype-providerId","displayName":"Type","editorName":"providerId | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"fyz9","index":14},{"name":"out-providerId","displayName":"providerId","plug":"output","type":"*","group":"Outputs","index":15},{"name":"outtype-tenantId","displayName":"Type","editorName":"tenantId | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"uoun","index":16},{"name":"out-tenantId","displayName":"tenantId","plug":"output","type":"*","group":"Outputs","index":17},{"name":"outtype-userDisplayName","displayName":"Type","editorName":"userDisplayName | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"krlv","index":18},{"name":"out-userDisplayName","displayName":"userDisplayName","plug":"output","type":"*","group":"Outputs","index":19},{"name":"outtype-email","displayName":"Type","editorName":"email | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"ogz4","index":20},{"name":"out-email","displayName":"email","plug":"output","type":"*","group":"Outputs","index":21},{"name":"outtype-loggedIn","displayName":"Type","editorName":"loggedIn | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"g79c","index":22},{"name":"out-loggedIn","displayName":"loggedIn","plug":"output","type":"boolean","group":"Outputs","index":23},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":24}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"fa099360-38c7-68c9-004e-667a9b5c8e3f","type":"SetModelProperties","x":446.3333333333332,"y":-247.1111111111111,"parameters":{"modelId":"currentUser","idSource":"explicit","properties":"loggedIn,emailVerified,isAnonymous,idToken","type-loggedIn":"boolean","type-emailVerified":"boolean","type-isAnonymous":"boolean","type-userCreaTime":"date","type-userLastSigninTime":"date","type-idToken":"string"},"ports":[],"dynamicports":[{"type":{"name":"boolean"},"plug":"input","group":"Property Values","displayName":"loggedIn","name":"prop-loggedIn","index":6},{"type":{"name":"enum","enums":[{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Number","value":"number"},{"label":"Date","value":"date"},{"label":"Array","value":"array"},{"label":"Object","value":"object"},{"label":"Any","value":"*"}],"allowEditOnly":true},"plug":"input","group":"Property Types","displayName":"loggedIn","default":"*","name":"type-loggedIn","index":7},{"type":{"name":"boolean"},"plug":"input","group":"Property Values","displayName":"emailVerified","name":"prop-emailVerified","index":8},{"type":{"name":"enum","enums":[{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Number","value":"number"},{"label":"Date","value":"date"},{"label":"Array","value":"array"},{"label":"Object","value":"object"},{"label":"Any","value":"*"}],"allowEditOnly":true},"plug":"input","group":"Property Types","displayName":"emailVerified","default":"*","name":"type-emailVerified","index":9},{"type":{"name":"boolean"},"plug":"input","group":"Property Values","displayName":"isAnonymous","name":"prop-isAnonymous","index":10},{"type":{"name":"enum","enums":[{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Number","value":"number"},{"label":"Date","value":"date"},{"label":"Array","value":"array"},{"label":"Object","value":"object"},{"label":"Any","value":"*"}],"allowEditOnly":true},"plug":"input","group":"Property Types","displayName":"isAnonymous","default":"*","name":"type-isAnonymous","index":11},{"type":{"name":"string"},"plug":"input","group":"Property Values","displayName":"idToken","name":"prop-idToken","index":12},{"type":{"name":"enum","enums":[{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Number","value":"number"},{"label":"Date","value":"date"},{"label":"Array","value":"array"},{"label":"Object","value":"object"},{"label":"Any","value":"*"}],"allowEditOnly":true},"plug":"input","group":"Property Types","displayName":"idToken","default":"*","name":"type-idToken","index":13}],"children":[]}],"visualRoots":[],"comments":[{"text":"'currentUser' can be reused as id in an Object  node anywhere in the project to make these properties available","width":180,"height":312,"fill":"transparent","x":430,"y":-368,"id":"1a741b3c-c058-6a8c-255c-f84cf01b31cb"}]}},{"name":"/Firebase/Firebase - Password reset","id":"fdda83a6-dbef-d0d2-a359-40736075fbf8","graph":{"connections":[{"fromId":"585648d6-9391-8984-c034-db59c9e39a33","fromProperty":"Do","toId":"3493c084-a0e9-eac9-8408-b8731df576d9","toProperty":"run"},{"fromId":"3493c084-a0e9-eac9-8408-b8731df576d9","fromProperty":"out-Failure","toId":"c89da7bb-fa84-876c-0458-e3f1ad7a74f1","toProperty":"Failure"},{"fromId":"3493c084-a0e9-eac9-8408-b8731df576d9","fromProperty":"out-Success","toId":"c89da7bb-fa84-876c-0458-e3f1ad7a74f1","toProperty":"Success"},{"fromId":"3493c084-a0e9-eac9-8408-b8731df576d9","fromProperty":"out-error","toId":"c89da7bb-fa84-876c-0458-e3f1ad7a74f1","toProperty":"Error"},{"fromId":"3493c084-a0e9-eac9-8408-b8731df576d9","fromProperty":"out-email","toId":"c89da7bb-fa84-876c-0458-e3f1ad7a74f1","toProperty":"email"},{"fromId":"585648d6-9391-8984-c034-db59c9e39a33","fromProperty":"email","toId":"3493c084-a0e9-eac9-8408-b8731df576d9","toProperty":"in-email"}],"roots":[{"id":"585648d6-9391-8984-c034-db59c9e39a33","type":"Component Inputs","x":-104,"y":-89,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"email","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"c89da7bb-fa84-876c-0458-e3f1ad7a74f1","type":"Component Outputs","x":374,"y":-50,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Error","plug":"input","type":{"name":"*"},"index":2},{"name":"email","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"3493c084-a0e9-eac9-8408-b8731df576d9","type":"JavaScriptFunction","label":"Function sendPasswordResetEmail","x":105.66666666666663,"y":-91,"parameters":{"functionScript":"if (!Boolean(Noodl.Variables.firebaseAuth)) {\r\n    console.error(\"Firebase Auth is not configured!\");\r\n    Outputs.Failure();\r\n    return; // Stops the function if Firebase Auth is not initialized\r\n}\r\n\r\n// Retrieve the email address from Noodl inputs\r\nconst email = Inputs.email;\r\n\r\nif (email) {\r\n    // Call sendPasswordResetEmail for the provided email\r\n    window.sendPasswordResetEmail(Noodl.Variables.firebaseAuth, email)\r\n        .then(() => {\r\n            console.log(\"Password reset email sent.\");\r\n            Outputs.email = email;\r\n            Outputs.Success();\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error sending password reset email: \", error);\r\n            // Handle specific errors with Outputs.error\r\n            switch (error.code) {\r\n                case \"auth/invalid-email\":\r\n                    Outputs.error = \"Invalid email\";\r\n                    break;\r\n                case \"auth/user-not-found\":\r\n                    Outputs.error = \"User not found\";\r\n                    break;\r\n                default:\r\n                    Outputs.error = \"Password reset email send failed\";\r\n            }\r\n            Outputs.Failure();\r\n        });\r\n} else {\r\n    console.log(\"Email address is required.\");\r\n    Outputs.error = \"Email address is required\";\r\n    Outputs.Failure();\r\n}"},"ports":[],"dynamicports":[{"name":"in-email","displayName":"email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-email","displayName":"email","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[],"comments":[{"text":"âš ï¸ The sendPasswordResetEmail function does not provide a success response only when the user exists; it's designed to return a success response even if the email is not associated with any user, to prevent enumeration attacks where an attacker could use this function to discover valid email addresses. Firebase's behavior is to silently fail, meaning it does not disclose whether an email is linked to an existing account or not, for privacy and security reasons.","width":455,"height":156,"fill":"transparent","x":105,"y":-247,"id":"3327e6a1-cf8b-cb8e-790f-c1aeeda611b1"}]}},{"name":"/Firebase/Firebase - Send Email Verification","id":"bdd1ad8b-5213-a84d-aef5-1ab156b71cb7","graph":{"connections":[{"fromId":"b8ccf245-1af3-dc3f-4426-889c58c278c9","fromProperty":"Do","toId":"ffda7497-6c8c-52c9-32f5-3c5146428b82","toProperty":"run"},{"fromId":"ffda7497-6c8c-52c9-32f5-3c5146428b82","fromProperty":"out-Failure","toId":"8eb6acd7-0e12-9be4-00e1-421aba59176a","toProperty":"Failure"},{"fromId":"ffda7497-6c8c-52c9-32f5-3c5146428b82","fromProperty":"out-Success","toId":"8eb6acd7-0e12-9be4-00e1-421aba59176a","toProperty":"Success"},{"fromId":"ffda7497-6c8c-52c9-32f5-3c5146428b82","fromProperty":"out-error","toId":"8eb6acd7-0e12-9be4-00e1-421aba59176a","toProperty":"Error"}],"roots":[{"id":"b8ccf245-1af3-dc3f-4426-889c58c278c9","type":"Component Inputs","x":-114,"y":-75,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"8eb6acd7-0e12-9be4-00e1-421aba59176a","type":"Component Outputs","x":336,"y":-90,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Error","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"ffda7497-6c8c-52c9-32f5-3c5146428b82","type":"JavaScriptFunction","x":105.66666666666663,"y":-91,"parameters":{"functionScript":"if (!Boolean(Noodl.Variables.firebaseAuth)) {\r\n    console.error(\"Firebase Auth is not configured!\");\r\n    return; // Stops the function if Firebase Auth servie is not initialized\r\n}\r\n\r\n// Use the Firebase Auth Variables to access the current user\r\nconst user = Noodl.Variables.firebaseAuth.currentUser;\r\n\r\nif (user) {\r\n    // Call sendEmailVerification for the current user\r\n    window.sendEmailVerification(user)\r\n        .then(() => {\r\n            console.log(\"Verification email sent.\");\r\n            Outputs.Success();\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error sending email verification: \", error);\r\n            // Handle specific errors with Outputs.error\r\n            switch (error.code) {\r\n                case \"auth/invalid-user-token\":\r\n                    Outputs.error = \"Invalid user token\";\r\n                    break;\r\n                case \"auth/user-disabled\":\r\n                    Outputs.error = \"User disabled\";\r\n                    break;\r\n                default:\r\n                    Outputs.error = \"Email verification send failed\";\r\n            }\r\n            Outputs.Failure();\r\n        });\r\n} else {\r\n    console.log(\"No signed-in user to send verification to.\");\r\n    Outputs.error = \"No signed-in user\";\r\n    Outputs.Failure();\r\n}"},"ports":[],"dynamicports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/Firebase/Firebase - Sent reset pwd email popup","id":"63b7f9b2-1871-4b49-def7-00539fa99c42","graph":{"connections":[{"fromId":"ac75e5d6-fa3e-f7d1-7441-ecd9fe53c8b7","fromProperty":"formatted","toId":"134b6953-c38b-5308-d258-f5ef265da77c","toProperty":"text"},{"fromId":"88ddd547-429b-1054-71f2-4e35210c7a35","fromProperty":"email","toId":"ac75e5d6-fa3e-f7d1-7441-ecd9fe53c8b7","toProperty":"email"}],"roots":[{"id":"1a572539-cf45-a03f-5501-1be3b6c95203","type":"Group","x":177,"y":0,"parameters":{"backgroundColor":"Grey - 400","justifyContent":"flex-start","paddingTop":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"134b6953-c38b-5308-d258-f5ef265da77c","type":"Text","label":"Password reset link emailed","parameters":{"text":"","textAlignX":"center"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"ac75e5d6-fa3e-f7d1-7441-ecd9fe53c8b7","type":"String Format","x":0,"y":48,"parameters":{"format":"Password reset link emailed to {email}\nIf you did not receive it, please verify the email address.","userEmail":""},"ports":[],"dynamicports":[{"name":"email","type":"string","plug":"input","index":2}],"children":[]},{"id":"88ddd547-429b-1054-71f2-4e35210c7a35","type":"Component Inputs","x":-217,"y":46,"parameters":{},"ports":[{"name":"email","plug":"output","type":{"name":"*"},"index":0}],"dynamicports":[],"children":[]}],"visualRoots":["1a572539-cf45-a03f-5501-1be3b6c95203"]}},{"name":"/Firebase/Firebase - Sent verification email popup","id":"40b1b334-412e-8946-da23-4be927bb1ac0","graph":{"connections":[{"fromId":"8067ca8c-5c20-1469-972c-0bf80d66a985","fromProperty":"prop-providerData","toId":"e8bb195c-4eb9-da94-da32-4b11cb9480f5","toProperty":"providerData"},{"fromId":"40e6767d-902c-4f3b-c9f5-a3332af79bbd","fromProperty":"formatted","toId":"a1378d19-2a11-2758-c91b-f14c6241c2bb","toProperty":"text"},{"fromId":"e8bb195c-4eb9-da94-da32-4b11cb9480f5","fromProperty":"result","toId":"40e6767d-902c-4f3b-c9f5-a3332af79bbd","toProperty":"userEmail"}],"roots":[{"id":"8067ca8c-5c20-1469-972c-0bf80d66a985","type":"Model2","x":-828.3333333333335,"y":25,"parameters":{"modelId":"currentUser","properties":"providerData"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-providerData","displayName":"providerData","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"providerData Changed","name":"changed-providerData","index":8}],"children":[]},{"id":"e8bb195c-4eb9-da94-da32-4b11cb9480f5","type":"Expression","x":-596.8819444444443,"y":-4.854166666666686,"parameters":{"expression":"providerData[0].userEmail"},"ports":[],"dynamicports":[{"group":"Parameters","name":"providerData","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"userEmail","type":{"name":"*","editAsType":"string"},"plug":"input","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"7eaba45d-97e3-6053-3f81-331c05c865ca","type":"Group","x":-141,"y":-31,"parameters":{"backgroundColor":"White","justifyContent":"flex-start","paddingTop":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"a1378d19-2a11-2758-c91b-f14c6241c2bb","type":"Text","label":"Verification email was sent","parameters":{"text":"","textAlignX":"center"},"ports":[],"dynamicports":[],"children":[]},{"id":"81725f3a-9b69-682b-1ccb-2976475d3630","type":"Text","parameters":{"text":"1. Verify it\n2. Log in on this page","textAlignX":"center"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"40e6767d-902c-4f3b-c9f5-a3332af79bbd","type":"String Format","x":-318,"y":17,"parameters":{"format":"A verification link was emailed to: {userEmail}","userEmail":""},"ports":[],"dynamicports":[{"name":"userEmail","type":"string","plug":"input","index":2}],"children":[]}],"visualRoots":["7eaba45d-97e3-6053-3f81-331c05c865ca"],"comments":[{"text":"We output the array 'providerData' from the object ","width":167,"height":189,"fill":"transparent","x":-837,"y":-66,"id":"a8795f27-b4ef-c0af-edfa-57e83be42043"},{"text":"Alternative script with a FUNCTION node: \nOutputs.userEmail = Inputs.providerData[0].userEmail;\nfor outputting userEmail from the providerData input","width":346,"height":82,"fill":"transparent","x":-700,"y":223,"id":"5d14bad0-2271-48f6-a12e-0738744a4a05"}]}},{"name":"/Firebase/Firebase - Update email","id":"bc777331-589d-4f1a-79f3-d2b7440a8903","graph":{"connections":[{"fromId":"fd40f6cf-df58-3460-a0f9-c66fa31cdd0b","fromProperty":"email","toId":"4d8301bb-9fa7-4028-3221-723cb63cea02","toProperty":"in-email"},{"fromId":"fd40f6cf-df58-3460-a0f9-c66fa31cdd0b","fromProperty":"Do","toId":"4d8301bb-9fa7-4028-3221-723cb63cea02","toProperty":"run"},{"fromId":"4d8301bb-9fa7-4028-3221-723cb63cea02","fromProperty":"out-Failure","toId":"b6763506-2f36-ef2e-d9bf-6201f7b217b0","toProperty":"Failure"},{"fromId":"4d8301bb-9fa7-4028-3221-723cb63cea02","fromProperty":"out-Success","toId":"b6763506-2f36-ef2e-d9bf-6201f7b217b0","toProperty":"Success"},{"fromId":"4d8301bb-9fa7-4028-3221-723cb63cea02","fromProperty":"out-error","toId":"b6763506-2f36-ef2e-d9bf-6201f7b217b0","toProperty":"Error"},{"fromId":"4d8301bb-9fa7-4028-3221-723cb63cea02","fromProperty":"out-newEmail","toId":"b6763506-2f36-ef2e-d9bf-6201f7b217b0","toProperty":"newEmail"}],"roots":[{"id":"fd40f6cf-df58-3460-a0f9-c66fa31cdd0b","type":"Component Inputs","x":-201,"y":-65,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"email","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"b6763506-2f36-ef2e-d9bf-6201f7b217b0","type":"Component Outputs","x":305,"y":-68,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"Error","plug":"input","type":{"name":"*"},"index":2},{"name":"newEmail","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"4d8301bb-9fa7-4028-3221-723cb63cea02","type":"JavaScriptFunction","label":"Function updateEmail","x":27,"y":-95.33333333333331,"parameters":{"functionScript":"if (!Boolean(Noodl.Variables.firebaseAuth)) {\r\n    console.error(\"Firebase Auth is not configured!\");\r\n    return; // Stops the function if Firebase Auth is not initialized\r\n}\r\n\r\n// Assuming Inputs.email contains the new email address to update to\r\nconst newEmail = Inputs.email;\r\n\r\nif (newEmail) {\r\n    // Use the globally available updateEmail function\r\n    window.updateEmail(Noodl.Variables.firebaseAuth.currentUser, newEmail)\r\n        .then(() => {\r\n            console.log(\"Email updated successfully.\");\r\n            Noodl.Objects.currentUser.userEmail = newEmail; // Update the email in Noodl.Objects.currentUser\r\n            Outputs.newEmail = Noodl.Objects.currentUser.userEmail;\r\n            Outputs.Success();\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error updating email: \", error);\r\n            // Handle specific errors with Outputs.error\r\n            switch (error.code) {\r\n                case \"auth/email-already-in-use\":\r\n                    Outputs.error = \"Email already in use\";\r\n                    break;\r\n                case \"auth/invalid-email\":\r\n                    Outputs.error = \"Invalid email\";\r\n                    break;\r\n                case \"auth/requires-recent-login\":\r\n                    Outputs.error = \"Requires recent login\";\r\n                    break;\r\n                default:\r\n                    Outputs.error = \"Email update failed\";\r\n            }\r\n            Outputs.Failure();\r\n        });\r\n} else {\r\n    console.log(\"New email address is required.\");\r\n    Outputs.error = \"New email address is required\";\r\n    Outputs.Failure();\r\n}"},"ports":[],"dynamicports":[{"name":"in-email","displayName":"email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-newEmail","displayName":"newEmail","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/Firebase/Firebase - Updated email popup","id":"2035f214-4505-7b2f-b115-74b8e466cc70","graph":{"connections":[{"fromId":"64ea1a71-b99b-0ec7-fb66-603017387ea3","fromProperty":"formatted","toId":"520eba37-fdb7-0fb8-055e-c71c35d7e05d","toProperty":"text"},{"fromId":"85e09022-fabe-1ecb-2c64-16fbf9e3b899","fromProperty":"email","toId":"64ea1a71-b99b-0ec7-fb66-603017387ea3","toProperty":"email"}],"roots":[{"id":"226ef980-7a3c-5e52-bed8-1a6d7284ed4c","type":"Group","x":177,"y":0,"parameters":{"backgroundColor":"Grey - 400","justifyContent":"flex-start","paddingTop":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"520eba37-fdb7-0fb8-055e-c71c35d7e05d","type":"Text","label":"Updated email popup","parameters":{"text":"","textAlignX":"center"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"64ea1a71-b99b-0ec7-fb66-603017387ea3","type":"String Format","x":0,"y":48,"parameters":{"format":"Email address updated to {email}","userEmail":""},"ports":[],"dynamicports":[{"name":"email","type":"string","plug":"input","index":2}],"children":[]},{"id":"85e09022-fabe-1ecb-2c64-16fbf9e3b899","type":"Component Inputs","x":-217,"y":46,"parameters":{},"ports":[{"name":"email","plug":"output","type":{"name":"*"},"index":0}],"dynamicports":[],"children":[]}],"visualRoots":["226ef980-7a3c-5e52-bed8-1a6d7284ed4c"]}},{"name":"/Firebase/Firebase - User Sign-in","id":"3c3e556c-32c5-2743-d21c-f684604ade00","graph":{"connections":[{"fromId":"9aa078d3-5fac-ca86-d84f-9f7962ced00f","fromProperty":"out-Success","toId":"06cf31fd-6518-5f23-ebef-264269fc3ae6","toProperty":"Success"},{"fromId":"9aa078d3-5fac-ca86-d84f-9f7962ced00f","fromProperty":"out-Failure","toId":"06cf31fd-6518-5f23-ebef-264269fc3ae6","toProperty":"Failure"},{"fromId":"83e232a4-02d1-5a74-9893-b02811bc3248","fromProperty":"email","toId":"9aa078d3-5fac-ca86-d84f-9f7962ced00f","toProperty":"in-email"},{"fromId":"83e232a4-02d1-5a74-9893-b02811bc3248","fromProperty":"password","toId":"9aa078d3-5fac-ca86-d84f-9f7962ced00f","toProperty":"in-password"},{"fromId":"9aa078d3-5fac-ca86-d84f-9f7962ced00f","fromProperty":"out-loggedIn","toId":"06cf31fd-6518-5f23-ebef-264269fc3ae6","toProperty":"loggedIn"},{"fromId":"9aa078d3-5fac-ca86-d84f-9f7962ced00f","fromProperty":"out-error","toId":"06cf31fd-6518-5f23-ebef-264269fc3ae6","toProperty":"error"}],"roots":[{"id":"83e232a4-02d1-5a74-9893-b02811bc3248","type":"Component Inputs","x":-137,"y":-192,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"email","plug":"output","type":{"name":"*"},"index":1},{"name":"password","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"06cf31fd-6518-5f23-ebef-264269fc3ae6","type":"Component Outputs","x":328,"y":-185,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"loggedIn","plug":"input","type":{"name":"*"},"index":2},{"name":"error","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"9aa078d3-5fac-ca86-d84f-9f7962ced00f","type":"JavaScriptFunction","label":"signIn With Email And Password","x":97,"y":-217.33333333333331,"parameters":{"functionScript":"if (!Boolean(Noodl.Variables.firebaseAuth)) {\r\n    console.error(\"Firebase Auth is not configured!\");\r\n    Outputs.error = \"Firebase Auth is not configured\";\r\n    Outputs.Failure();\r\n    return; // Stops the function if Firebase Auth is not initialized\r\n}\r\n\r\n// Retrieve the email and password from Noodl inputs\r\nconst email = Inputs.email;\r\nconst password = Inputs.password;\r\n\r\nif (email && password) {\r\n    // Use the globally available signInWithEmailAndPassword function for signing in\r\n    window.signInWithEmailAndPassword(Noodl.Variables.firebaseAuth, email, password)\r\n        .then((userCredential) => {\r\n            console.log(\"User signed in successfully.\");\r\n            const user = userCredential.user;\r\n            // Update the currentUser object in Noodl.Objects\r\n            Noodl.Objects.currentUser = {\r\n                uid: user.uid,\r\n                email: user.email,\r\n                emailVerified: user.emailVerified,\r\n                refreshToken: user.refreshToken,\r\n            };\r\n            Outputs.loggedIn = true; // Indicate the user is logged in\r\n            Outputs.Success();\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error signing in: \", error);\r\n            // Handle specific errors with Outputs.error\r\n            switch (error.code) {\r\n                case \"auth/user-not-found\":\r\n                    Outputs.error = \"User not found\";\r\n                    break;\r\n                case \"auth/wrong-password\":\r\n                    Outputs.error = \"Wrong password\";\r\n                    break;\r\n                case \"auth/invalid-email\":\r\n                    Outputs.error = \"Invalid email\";\r\n                    break;\r\n                default:\r\n                    Outputs.error = \"Sign-in failed\";\r\n            }\r\n            Outputs.loggedIn = false; // Indicate the user is not logged in\r\n            Outputs.Failure();\r\n        });\r\n} else {\r\n    console.log(\"Email and password are required.\");\r\n    Outputs.error = \"Email and password are required\";\r\n    Outputs.Failure();\r\n}"},"ports":[],"dynamicports":[{"name":"in-email","displayName":"email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-password","displayName":"password","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-loggedIn","displayName":"loggedIn","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/Firebase/Firebase - User Sign-up","id":"b4d9b139-0488-ae01-6e40-998adf6e0405","graph":{"connections":[{"fromId":"eeb479d9-7a1e-f091-2996-1a246f88734b","fromProperty":"out-Success","toId":"a2aa1570-93e6-9478-6103-6728a9659397","toProperty":"Success"},{"fromId":"eeb479d9-7a1e-f091-2996-1a246f88734b","fromProperty":"out-Failure","toId":"a2aa1570-93e6-9478-6103-6728a9659397","toProperty":"Failure"},{"fromId":"eeb479d9-7a1e-f091-2996-1a246f88734b","fromProperty":"out-idToken","toId":"a2aa1570-93e6-9478-6103-6728a9659397","toProperty":"idToken"},{"fromId":"4ef4278e-2c61-d985-9298-fb6b6d166886","fromProperty":"email","toId":"eeb479d9-7a1e-f091-2996-1a246f88734b","toProperty":"in-email"},{"fromId":"4ef4278e-2c61-d985-9298-fb6b6d166886","fromProperty":"password","toId":"eeb479d9-7a1e-f091-2996-1a246f88734b","toProperty":"in-password"},{"fromId":"4ef4278e-2c61-d985-9298-fb6b6d166886","fromProperty":"Do","toId":"eeb479d9-7a1e-f091-2996-1a246f88734b","toProperty":"run"}],"roots":[{"id":"4ef4278e-2c61-d985-9298-fb6b6d166886","type":"Component Inputs","x":-146,"y":-188,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"email","plug":"output","type":{"name":"*"},"index":1},{"name":"password","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"a2aa1570-93e6-9478-6103-6728a9659397","type":"Component Outputs","x":485,"y":-189,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"idToken","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"eeb479d9-7a1e-f091-2996-1a246f88734b","type":"JavaScriptFunction","label":"create User With Email And Password","x":97,"y":-217.33333333333331,"parameters":{"functionScript":"if (!Boolean(Noodl.Variables.firebaseAuth)) {\r\n    console.error(\"Firebase Auth is not configured!\");\r\n    return; // Stops the function if Firebase App is not initialized\r\n}\r\n\r\nwindow.createUserWithEmailAndPassword(Noodl.Variables.firebaseAuth, Inputs.email, Inputs.password)\r\n    .then((userCredential) => {\r\n        // User creation was successful\r\n        const user = userCredential.user;\r\n        // Get the JWT ID Token\r\n        user.getIdToken().then((token) => {\r\n            console.log(\"idToken created\");\r\n            Outputs.idToken = token; // Output the JWT\r\n        }).catch((error) => {\r\n            console.error(\"Error getting token: \", error);\r\n        });\r\n        console.log(\"User signed up\");\r\n\r\n        Outputs.Success(); // Trigger the Success output in Noodl\r\n    })\r\n    .catch((error) => {\r\n        // An error occurred during the user creation process\r\n        console.error(\"Error signing up: \", error.code, error.message);\r\n        Outputs.Failure(); // Trigger the Failure output in Noodl with error details\r\n    });","scriptInputs":[{"id":"0gjw","label":"email"},{"id":"bygp","label":"password"}]},"ports":[],"dynamicports":[{"name":"intype-email","displayName":"Type","editorName":"email | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"0gjw","index":4},{"name":"in-email","displayName":"email","plug":"input","type":"string","group":"Inputs","index":5},{"name":"intype-password","displayName":"Type","editorName":"password | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"bygp","index":6},{"name":"in-password","displayName":"password","plug":"input","type":"string","group":"Inputs","index":7},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-idToken","displayName":"idToken","plug":"output","type":"*","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/Firebase/Firebase_init - Setup Client","id":"57e49d78-d0d9-99ca-aebe-dc9358c55e7f","graph":{"connections":[{"fromId":"21205ad9-1fa8-07ec-3bfb-3a6333c62fb0","fromProperty":"savedValue","toId":"50138787-5dc1-c27a-1e07-7a35fa5b2290","toProperty":"value"},{"fromId":"166ccce7-2200-3048-7d20-560592197ed8","fromProperty":"changed","toId":"21205ad9-1fa8-07ec-3bfb-3a6333c62fb0","toProperty":"saveValue"},{"fromId":"8382fd33-cf11-32de-1bf5-552d774617bf","fromProperty":"savedValue","toId":"166ccce7-2200-3048-7d20-560592197ed8","toProperty":"value"},{"fromId":"b34e32b6-81a3-4e11-6e0b-3d6c29c14c1d","fromProperty":"apiKey","toId":"70aae2bd-7264-0606-f7cf-e595948c6ea8","toProperty":"value"},{"fromId":"b34e32b6-81a3-4e11-6e0b-3d6c29c14c1d","fromProperty":"authDomain","toId":"c1615425-8879-7ca9-b70a-78576ffc2af4","toProperty":"value"},{"fromId":"b34e32b6-81a3-4e11-6e0b-3d6c29c14c1d","fromProperty":"projectId","toId":"afeebf4f-3804-3420-f7fc-29a468c9435f","toProperty":"value"},{"fromId":"b34e32b6-81a3-4e11-6e0b-3d6c29c14c1d","fromProperty":"storageBucket","toId":"62299380-fe3d-95b7-29d6-914a973d3e88","toProperty":"value"},{"fromId":"b34e32b6-81a3-4e11-6e0b-3d6c29c14c1d","fromProperty":"messagingSenderId","toId":"cfd05114-2160-68c7-3aa5-8b8128223924","toProperty":"value"},{"fromId":"b34e32b6-81a3-4e11-6e0b-3d6c29c14c1d","fromProperty":"appId","toId":"5d8957f5-c624-9849-2673-7c0e3f00b761","toProperty":"value"},{"fromId":"70aae2bd-7264-0606-f7cf-e595948c6ea8","fromProperty":"savedValue","toId":"c0135ee9-bc7e-9647-04fc-74a985ea1520","toProperty":"in-apiKey"},{"fromId":"c1615425-8879-7ca9-b70a-78576ffc2af4","fromProperty":"savedValue","toId":"c0135ee9-bc7e-9647-04fc-74a985ea1520","toProperty":"in-authDomain"},{"fromId":"afeebf4f-3804-3420-f7fc-29a468c9435f","fromProperty":"savedValue","toId":"c0135ee9-bc7e-9647-04fc-74a985ea1520","toProperty":"in-projectId"},{"fromId":"62299380-fe3d-95b7-29d6-914a973d3e88","fromProperty":"savedValue","toId":"c0135ee9-bc7e-9647-04fc-74a985ea1520","toProperty":"in-storageBucket"},{"fromId":"cfd05114-2160-68c7-3aa5-8b8128223924","fromProperty":"savedValue","toId":"c0135ee9-bc7e-9647-04fc-74a985ea1520","toProperty":"in-messagingSenderId"},{"fromId":"5d8957f5-c624-9849-2673-7c0e3f00b761","fromProperty":"savedValue","toId":"c0135ee9-bc7e-9647-04fc-74a985ea1520","toProperty":"in-appId"},{"fromId":"b34e32b6-81a3-4e11-6e0b-3d6c29c14c1d","fromProperty":"Do","toId":"c0135ee9-bc7e-9647-04fc-74a985ea1520","toProperty":"run"},{"fromId":"c0135ee9-bc7e-9647-04fc-74a985ea1520","fromProperty":"out-Success","toId":"34099534-9fc2-85fe-1d05-ecfe1015d341","toProperty":"Success"},{"fromId":"c0135ee9-bc7e-9647-04fc-74a985ea1520","fromProperty":"out-Failure","toId":"34099534-9fc2-85fe-1d05-ecfe1015d341","toProperty":"Failure"}],"roots":[{"id":"b34e32b6-81a3-4e11-6e0b-3d6c29c14c1d","type":"Component Inputs","x":-487.3684210526315,"y":-148.8421052631578,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"apiKey","plug":"output","type":{"name":"*"},"index":1},{"name":"authDomain","plug":"output","type":{"name":"*"},"index":2},{"name":"projectId","plug":"output","type":{"name":"*"},"index":3},{"name":"storageBucket","plug":"output","type":{"name":"*"},"index":4},{"name":"messagingSenderId","plug":"output","type":{"name":"*"},"index":5},{"name":"appId","plug":"output","type":{"name":"*"},"index":6}],"dynamicports":[],"children":[]},{"id":"34099534-9fc2-85fe-1d05-ecfe1015d341","type":"Component Outputs","x":288,"y":9,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1}],"dynamicports":[],"children":[]},{"id":"c0135ee9-bc7e-9647-04fc-74a985ea1520","type":"JavaScriptFunction","x":81.10803324099732,"y":-108.17313019390582,"parameters":{"functionScript":"if (Boolean(Noodl.Variables.firebaseApp)) {\n    console.log(\"Firebase client is already set up\");\n    return; // Stops if the client already exists\n}\n\n// Inputs from the Noodl component, provided manually via the component's UI\nconst firebaseConfig = {\n    apiKey: Inputs.apiKey,\n    authDomain: Inputs.authDomain,\n    projectId: Inputs.projectId,\n    storageBucket: Inputs.storageBucket,\n    messagingSenderId: Inputs.messagingSenderId,\n    appId: Inputs.appId,\n};\n\ntry {\n    // Utilize the global 'window' object to import and initialize Firebase, ensuring Firebase SDKs are loaded\n    // This assumes Firebase SDKs are available in the global scope\n    const app = window.initializeApp(firebaseConfig);\n    const auth = window.getAuth(app);\n\n    // Store the Firebase app instance in Noodl variables for global access within the Noodl project\n    Noodl.Variables.firebaseAuth = auth;\n\n    console.log(\"[Initialize] Firebase is now initialized\");\n    Outputs.Success(); // Signal success in initialization\n} catch (e) {\n    console.error(\"[Initialize] Error initializing Firebase: \", e);\n    Outputs.Failure(); // Signal failure in initialization\n}","scriptInputs":[{"id":"rfto","label":"apiKey"},{"id":"n0bq","label":"authDomain"},{"id":"u9ag","label":"projectId"},{"id":"2i2d","label":"storageBucket"},{"id":"ogpk","label":"messagingSenderId"},{"id":"nwuv","label":"appId"}]},"ports":[],"dynamicports":[{"name":"intype-apiKey","displayName":"Type","editorName":"apiKey | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"rfto","index":4},{"name":"in-apiKey","displayName":"apiKey","plug":"input","type":"string","group":"Inputs","index":5},{"name":"intype-authDomain","displayName":"Type","editorName":"authDomain | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"n0bq","index":6},{"name":"in-authDomain","displayName":"authDomain","plug":"input","type":"string","group":"Inputs","index":7},{"name":"intype-projectId","displayName":"Type","editorName":"projectId | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"u9ag","index":8},{"name":"in-projectId","displayName":"projectId","plug":"input","type":"string","group":"Inputs","index":9},{"name":"intype-storageBucket","displayName":"Type","editorName":"storageBucket | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"2i2d","index":10},{"name":"in-storageBucket","displayName":"storageBucket","plug":"input","type":"string","group":"Inputs","index":11},{"name":"intype-messagingSenderId","displayName":"Type","editorName":"messagingSenderId | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"ogpk","index":12},{"name":"in-messagingSenderId","displayName":"messagingSenderId","plug":"input","type":"string","group":"Inputs","index":13},{"name":"intype-appId","displayName":"Type","editorName":"appId | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"nwuv","index":14},{"name":"in-appId","displayName":"appId","plug":"input","type":"string","group":"Inputs","index":15},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":16},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":17}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"21205ad9-1fa8-07ec-3bfb-3a6333c62fb0","type":"String","x":-916,"y":203,"parameters":{"value":"authSession"},"ports":[],"dynamicports":[],"children":[]},{"id":"50138787-5dc1-c27a-1e07-7a35fa5b2290","type":"Variable2","x":-668,"y":208,"parameters":{"name":"Supabase_session"},"ports":[],"dynamicports":[],"children":[]},{"id":"8382fd33-cf11-32de-1bf5-552d774617bf","type":"String","x":-920,"y":-124,"parameters":{"value":"user_profile"},"ports":[],"dynamicports":[],"children":[]},{"id":"166ccce7-2200-3048-7d20-560592197ed8","type":"Variable2","x":-671,"y":-59,"parameters":{"name":"Supabase_userProfileTableName"},"ports":[],"dynamicports":[],"children":[]},{"id":"70aae2bd-7264-0606-f7cf-e595948c6ea8","type":"String","x":-215.66541353383445,"y":-211.4548872180451,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"c1615425-8879-7ca9-b70a-78576ffc2af4","type":"String","x":-213.57894736842104,"y":-128.78947368421052,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"afeebf4f-3804-3420-f7fc-29a468c9435f","type":"String","x":-216.1578947368422,"y":-45.73684210526312,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"62299380-fe3d-95b7-29d6-914a973d3e88","type":"String","x":-217.42105263157896,"y":38.78947368421052,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"cfd05114-2160-68c7-3aa5-8b8128223924","type":"String","x":-217.7894736842104,"y":120.21052631578948,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"5d8957f5-c624-9849-2673-7c0e3f00b761","type":"String","x":-220.10526315789468,"y":207.36842105263156,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[],"comments":[{"text":"Creates the firebase instance and stores it in a Noodl Variable","width":178,"height":305,"fill":true,"x":67,"y":-187,"id":"429038d0-9816-0e53-0686-6a9e6f2c786b","color":"script"},{"text":"HEAD PAGE SETUP\nIn your Project settings sidebar, Custom Code section, add the below Head Code:","width":1079,"height":426,"fill":true,"x":-583,"y":-671,"id":"81eb2055-81b4-4baf-ae2c-6565ff0218a8","largeFont":true},{"text":"<script type=\"module\">\n  import { initializeApp } from \"https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js\";\n  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, sendEmailVerification, sendPasswordResetEmail } from \"https://www.gstatic.com/firebasejs/10.7.2/firebase-auth.js\";\n  import { getFirestore } from \"https://www.gstatic.com/firebasejs/10.7.2/firebase-firestore.js\";\n\n  // Expose Firebase init and auth functions to the global scope\n  window.initializeApp = initializeApp;\n  window.getAuth = getAuth;\n  window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;\n  window.signInWithEmailAndPassword = signInWithEmailAndPassword;\n  window.onAuthStateChanged = onAuthStateChanged;\n  window.sendEmailVerification = sendEmailVerification;\n  window.sendPasswordResetEmail = sendPasswordResetEmail;\n  window.getFirestore = getFirestore;\n</script>\n<script src=\"https://cdn.jsdelivr.net/npm/validator/validator.min.js\"></script>\n<script>\n  window.validator = validator;\n</script>","width":1043,"height":342,"fill":true,"x":-560,"y":-597,"id":"9483fc55-27b3-d428-d3bf-dea1130459f1","color":"comment"},{"text":"Set the localstorage keyName to save the AuthSession","width":430,"height":205,"fill":true,"x":-932,"y":107,"id":"643dde99-aa65-a814-1205-ec986f88d9a4"},{"text":"Set the user profile table name","width":440,"height":260,"fill":true,"x":-940,"y":-187,"id":"b1f3d073-14e0-30c3-6cb2-2aaec9c5b2d5"}]}},{"name":"/Firebase/Reset Firebase Password","id":"19aefb69-25d0-50d5-a4c1-8354ba6e5090","graph":{"connections":[{"fromId":"97bbadfa-d2ab-eab7-ad10-76838e78534d","fromProperty":"onTextChanged","toId":"9569c72a-46df-3051-b201-2e9eada50240","toProperty":"email"},{"fromId":"9569c72a-46df-3051-b201-2e9eada50240","fromProperty":"email","toId":"7850d63b-5ec6-dfb2-763b-0779a781a2d6","toProperty":"popupParam-email"},{"fromId":"9569c72a-46df-3051-b201-2e9eada50240","fromProperty":"Success","toId":"97bbadfa-d2ab-eab7-ad10-76838e78534d","toProperty":"clear"},{"fromId":"e7960b46-0f04-ba74-6f8d-3f5e0da532e4","fromProperty":"onClick","toId":"9569c72a-46df-3051-b201-2e9eada50240","toProperty":"Do"},{"fromId":"9569c72a-46df-3051-b201-2e9eada50240","fromProperty":"Error","toId":"131d1a69-fd3e-8791-9fb6-90d14f2afdc6","toProperty":"error"},{"fromId":"9569c72a-46df-3051-b201-2e9eada50240","fromProperty":"Failure","toId":"131d1a69-fd3e-8791-9fb6-90d14f2afdc6","toProperty":"run"},{"fromId":"9569c72a-46df-3051-b201-2e9eada50240","fromProperty":"Error","toId":"9765ce93-11e9-d56a-2c4f-c9befc5889e1","toProperty":"error"},{"fromId":"9569c72a-46df-3051-b201-2e9eada50240","fromProperty":"Failure","toId":"9765ce93-11e9-d56a-2c4f-c9befc5889e1","toProperty":"run"},{"fromId":"9569c72a-46df-3051-b201-2e9eada50240","fromProperty":"Error","toId":"77b491f3-6ff0-b5e5-b6d2-b9ae603d7a29","toProperty":"error"},{"fromId":"9569c72a-46df-3051-b201-2e9eada50240","fromProperty":"Failure","toId":"77b491f3-6ff0-b5e5-b6d2-b9ae603d7a29","toProperty":"run"},{"fromId":"9569c72a-46df-3051-b201-2e9eada50240","fromProperty":"Error","toId":"f265e4d8-a76b-b0d9-0a81-3f516841c074","toProperty":"error"},{"fromId":"9569c72a-46df-3051-b201-2e9eada50240","fromProperty":"Failure","toId":"f265e4d8-a76b-b0d9-0a81-3f516841c074","toProperty":"run"},{"fromId":"131d1a69-fd3e-8791-9fb6-90d14f2afdc6","fromProperty":"isTrueEv","toId":"68f7d776-04c5-7f50-852c-c73f2bd45e7f","toProperty":"to-Invalid"},{"fromId":"68f7d776-04c5-7f50-852c-c73f2bd45e7f","fromProperty":"Text box visible","toId":"08ece10e-08bd-23ec-fe10-b69a6bfac597","toProperty":"mounted"},{"fromId":"9765ce93-11e9-d56a-2c4f-c9befc5889e1","fromProperty":"isTrueEv","toId":"68f7d776-04c5-7f50-852c-c73f2bd45e7f","toProperty":"to-NotFound"},{"fromId":"77b491f3-6ff0-b5e5-b6d2-b9ae603d7a29","fromProperty":"isTrueEv","toId":"68f7d776-04c5-7f50-852c-c73f2bd45e7f","toProperty":"to-Failed"},{"fromId":"f265e4d8-a76b-b0d9-0a81-3f516841c074","fromProperty":"isTrueEv","toId":"68f7d776-04c5-7f50-852c-c73f2bd45e7f","toProperty":"to-Required"},{"fromId":"68f7d776-04c5-7f50-852c-c73f2bd45e7f","fromProperty":"Invalid email","toId":"08ece10e-08bd-23ec-fe10-b69a6bfac597","toProperty":"text"},{"fromId":"68f7d776-04c5-7f50-852c-c73f2bd45e7f","fromProperty":"User  not found","toId":"08ece10e-08bd-23ec-fe10-b69a6bfac597","toProperty":"text"},{"fromId":"68f7d776-04c5-7f50-852c-c73f2bd45e7f","fromProperty":"Pwd reset eml send fail","toId":"08ece10e-08bd-23ec-fe10-b69a6bfac597","toProperty":"text"},{"fromId":"68f7d776-04c5-7f50-852c-c73f2bd45e7f","fromProperty":"Email address required","toId":"08ece10e-08bd-23ec-fe10-b69a6bfac597","toProperty":"text"},{"fromId":"9569c72a-46df-3051-b201-2e9eada50240","fromProperty":"Success","toId":"7850d63b-5ec6-dfb2-763b-0779a781a2d6","toProperty":"show"}],"roots":[{"id":"4e769551-9d39-2ee2-54bc-7b67669d6003","type":"Page","label":"Page Reset Pwd","x":-268.25683817239747,"y":-192.8420108230763,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"Reset Firebase Password","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"reset-firebase-password","index":32}],"children":[{"id":"eb99a28e-08c7-84c6-4a84-f81d6c37be51","type":"Group","label":"Reset password form","parameters":{"flexDirection":"column","backgroundColor":"#FFFFFF","borderRadius":{"value":8,"unit":"px"},"sizeMode":"contentHeight","clip":true},"ports":[],"dynamicports":[],"children":[{"id":"a8df7145-7aa0-b8e0-b5a8-7f53527ae496","type":"Text","label":"","parameters":{"text":"Reset Password","marginBottom":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"97bbadfa-d2ab-eab7-ad10-76838e78534d","type":"net.noodl.controls.textinput","label":"Email Input","parameters":{"label":"","type":"email","placeholder":"Email","marginBottom":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"08ece10e-08bd-23ec-fe10-b69a6bfac597","type":"Text","parameters":{"text":"","color":"Danger","fontSize":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"e7960b46-0f04-ba74-6f8d-3f5e0da532e4","type":"net.noodl.controls.button","parameters":{"label":"Send reset password email"},"ports":[],"dynamicports":[],"children":[]},{"id":"5cfc6bd5-279d-b8b9-c1f5-678e04071ac2","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","alignItems":"center","marginTop":{"value":16,"unit":"px"},"columnGap":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"f41be625-10ff-0a40-e2dc-817f637b6521","type":"net.noodl.controls.button","parameters":{"label":"Cancel"},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"0c102115-9ec1-d592-e5a3-aaf497d54a2b","type":"PageInputs","x":-317.25683817239747,"y":-240.8420108230763,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"9569c72a-46df-3051-b201-2e9eada50240","type":"/Firebase/Firebase - Password reset","x":9.38252237779335,"y":-91.75377275130927,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"7850d63b-5ec6-dfb2-763b-0779a781a2d6","type":"NavigationShowPopup","label":"Show Reset Pwd Emailed Popup","x":250.07031709871876,"y":-220.24242269389077,"parameters":{"target":"/Firebase/Firebase - Sent reset pwd email popup"},"ports":[],"dynamicports":[{"name":"popupParam-email","displayName":"email","type":"string","plug":"input","group":"Params","index":3}],"children":[]},{"id":"131d1a69-fd3e-8791-9fb6-90d14f2afdc6","type":"Expression","x":419.44531709871876,"y":-143.9507560272241,"parameters":{"expression":"error == \"Invalid email\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"error","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"9765ce93-11e9-d56a-2c4f-c9befc5889e1","type":"Expression","x":591.8453170987187,"y":14.582577306109215,"parameters":{"expression":"error == \"User not found\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"error","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"77b491f3-6ff0-b5e5-b6d2-b9ae603d7a29","type":"Expression","x":418.84531709871874,"y":181.36035508388704,"parameters":{"expression":"error == \"Password reset email send failed\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"error","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"f265e4d8-a76b-b0d9-0a81-3f516841c074","type":"Expression","x":418.9881742415759,"y":358.4555931791251,"parameters":{"expression":"error == \"Email address is required\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"error","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"68f7d776-04c5-7f50-852c-c73f2bd45e7f","type":"States","x":37.567121609997,"y":94.03454054754616,"parameters":{"states":"Invalid,NotFound,Failed,Required,Standby","currentState":"Standby","values":"Text box visible,Invalid email,User  not found,Pwd reset eml send fail,Email address required","value-Invalid-Invalid email":"Invalid email","type-User  not found":"string","type-Email address required":"string","value-NotFound-Invalid email":"","value-Required-Email address required":"Email address required","type-Text box visible":"boolean","value-Invalid-Text box visible":true,"value-NotFound-Text box visible":true,"value-Failed-Text box visible":true,"value-Required-Text box visible":true,"type-Invalid email":"string","value-NotFound-User  not found":"User not found","type-Pwd reset eml send fail":"string","value-Failed-Pwd reset eml send fail":"Password reset email send failed"},"ports":[],"dynamicports":[{"type":{"name":"boolean","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Text box visible","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Text box visible","name":"type-Text box visible","index":7},{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Invalid email","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Invalid email","name":"type-Invalid email","index":9},{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"User  not found","index":10},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"User  not found","name":"type-User  not found","index":11},{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Pwd reset eml send fail","index":12},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Pwd reset eml send fail","name":"type-Pwd reset eml send fail","index":13},{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Email address required","index":14},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Email address required","name":"type-Email address required","index":15},{"plug":"input","type":"boolean","group":"Invalid Values","name":"value-Invalid-Text box visible","displayName":"Text box visible","editorName":"Invalid|Text box visible","index":16},{"plug":"input","type":"string","group":"Invalid Values","name":"value-Invalid-Invalid email","displayName":"Invalid email","editorName":"Invalid|Invalid email","index":17},{"plug":"input","type":"string","group":"Invalid Values","name":"value-Invalid-User  not found","displayName":"User  not found","editorName":"Invalid|User  not found","index":18},{"plug":"input","type":"string","group":"Invalid Values","name":"value-Invalid-Pwd reset eml send fail","displayName":"Pwd reset eml send fail","editorName":"Invalid|Pwd reset eml send fail","index":19},{"plug":"input","type":"string","group":"Invalid Values","name":"value-Invalid-Email address required","displayName":"Email address required","editorName":"Invalid|Email address required","index":20},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Invalid Transitions","name":"transitiondef-Invalid","index":21},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Invalid","name":"to-Invalid","group":"Go to state","index":22},{"plug":"output","type":"boolean","displayName":"At Invalid","name":"at-Invalid","group":"Current state","index":23},{"plug":"output","type":"signal","displayName":"Has Reached Invalid","name":"reached-Invalid","group":"Current state","index":24},{"plug":"input","type":"boolean","group":"NotFound Values","name":"value-NotFound-Text box visible","displayName":"Text box visible","editorName":"NotFound|Text box visible","index":25},{"plug":"input","type":"string","group":"NotFound Values","name":"value-NotFound-Invalid email","displayName":"Invalid email","editorName":"NotFound|Invalid email","index":26},{"plug":"input","type":"string","group":"NotFound Values","name":"value-NotFound-User  not found","displayName":"User  not found","editorName":"NotFound|User  not found","index":27},{"plug":"input","type":"string","group":"NotFound Values","name":"value-NotFound-Pwd reset eml send fail","displayName":"Pwd reset eml send fail","editorName":"NotFound|Pwd reset eml send fail","index":28},{"plug":"input","type":"string","group":"NotFound Values","name":"value-NotFound-Email address required","displayName":"Email address required","editorName":"NotFound|Email address required","index":29},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"NotFound Transitions","name":"transitiondef-NotFound","index":30},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To NotFound","name":"to-NotFound","group":"Go to state","index":31},{"plug":"output","type":"boolean","displayName":"At NotFound","name":"at-NotFound","group":"Current state","index":32},{"plug":"output","type":"signal","displayName":"Has Reached NotFound","name":"reached-NotFound","group":"Current state","index":33},{"plug":"input","type":"boolean","group":"Failed Values","name":"value-Failed-Text box visible","displayName":"Text box visible","editorName":"Failed|Text box visible","index":34},{"plug":"input","type":"string","group":"Failed Values","name":"value-Failed-Invalid email","displayName":"Invalid email","editorName":"Failed|Invalid email","index":35},{"plug":"input","type":"string","group":"Failed Values","name":"value-Failed-User  not found","displayName":"User  not found","editorName":"Failed|User  not found","index":36},{"plug":"input","type":"string","group":"Failed Values","name":"value-Failed-Pwd reset eml send fail","displayName":"Pwd reset eml send fail","editorName":"Failed|Pwd reset eml send fail","index":37},{"plug":"input","type":"string","group":"Failed Values","name":"value-Failed-Email address required","displayName":"Email address required","editorName":"Failed|Email address required","index":38},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Failed Transitions","name":"transitiondef-Failed","index":39},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Failed","name":"to-Failed","group":"Go to state","index":40},{"plug":"output","type":"boolean","displayName":"At Failed","name":"at-Failed","group":"Current state","index":41},{"plug":"output","type":"signal","displayName":"Has Reached Failed","name":"reached-Failed","group":"Current state","index":42},{"plug":"input","type":"boolean","group":"Required Values","name":"value-Required-Text box visible","displayName":"Text box visible","editorName":"Required|Text box visible","index":43},{"plug":"input","type":"string","group":"Required Values","name":"value-Required-Invalid email","displayName":"Invalid email","editorName":"Required|Invalid email","index":44},{"plug":"input","type":"string","group":"Required Values","name":"value-Required-User  not found","displayName":"User  not found","editorName":"Required|User  not found","index":45},{"plug":"input","type":"string","group":"Required Values","name":"value-Required-Pwd reset eml send fail","displayName":"Pwd reset eml send fail","editorName":"Required|Pwd reset eml send fail","index":46},{"plug":"input","type":"string","group":"Required Values","name":"value-Required-Email address required","displayName":"Email address required","editorName":"Required|Email address required","index":47},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Required Transitions","name":"transitiondef-Required","index":48},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Required","name":"to-Required","group":"Go to state","index":49},{"plug":"output","type":"boolean","displayName":"At Required","name":"at-Required","group":"Current state","index":50},{"plug":"output","type":"signal","displayName":"Has Reached Required","name":"reached-Required","group":"Current state","index":51},{"plug":"input","type":"boolean","group":"Standby Values","name":"value-Standby-Text box visible","displayName":"Text box visible","editorName":"Standby|Text box visible","index":52},{"plug":"input","type":"string","group":"Standby Values","name":"value-Standby-Invalid email","displayName":"Invalid email","editorName":"Standby|Invalid email","index":53},{"plug":"input","type":"string","group":"Standby Values","name":"value-Standby-User  not found","displayName":"User  not found","editorName":"Standby|User  not found","index":54},{"plug":"input","type":"string","group":"Standby Values","name":"value-Standby-Pwd reset eml send fail","displayName":"Pwd reset eml send fail","editorName":"Standby|Pwd reset eml send fail","index":55},{"plug":"input","type":"string","group":"Standby Values","name":"value-Standby-Email address required","displayName":"Email address required","editorName":"Standby|Email address required","index":56},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Standby Transitions","name":"transitiondef-Standby","index":57},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Standby","name":"to-Standby","group":"Go to state","index":58},{"plug":"output","type":"boolean","displayName":"At Standby","name":"at-Standby","group":"Current state","index":59},{"plug":"output","type":"signal","displayName":"Has Reached Standby","name":"reached-Standby","group":"Current state","index":60},{"plug":"input","type":{"name":"enum","enums":["Invalid","NotFound","Failed","Required","Standby"]},"group":"States","displayName":"State","name":"currentState","default":"Invalid","index":61}],"children":[]}],"visualRoots":["4e769551-9d39-2ee2-54bc-7b67669d6003"],"comments":[{"text":"Available for internal logging purposes, monitoring user behavior or troubleshooting issues, while the \"User not found\" message is not directly exposed to the end user.","width":171,"height":317,"fill":"transparent","x":584,"y":-151,"id":"b2352194-82f4-aa5b-02ef-630986a0aa9b"}]}},{"name":"/Firebase/Sign-up with Firebase","id":"fcc77789-f529-8182-1bb4-cdde9a79c335","graph":{"connections":[{"fromId":"8636d35d-084e-8cdc-43bd-0a2ce9eca7d8","fromProperty":"onTextChanged","toId":"29bf3bbd-c499-bbe5-03db-f7e212af03cc","toProperty":"email"},{"fromId":"533b071a-293e-2e7c-d803-f05677065776","fromProperty":"onTextChanged","toId":"29bf3bbd-c499-bbe5-03db-f7e212af03cc","toProperty":"password"},{"fromId":"29bf3bbd-c499-bbe5-03db-f7e212af03cc","fromProperty":"Success","toId":"b4ee77b4-79bc-f51c-2821-a78cf8ffeb9c","toProperty":"Do"},{"fromId":"29bf3bbd-c499-bbe5-03db-f7e212af03cc","fromProperty":"Success","toId":"94a2aef0-4a06-4ec5-a99c-bc1592bf66e5","toProperty":"Do"},{"fromId":"29bf3bbd-c499-bbe5-03db-f7e212af03cc","fromProperty":"Success","toId":"8636d35d-084e-8cdc-43bd-0a2ce9eca7d8","toProperty":"clear"},{"fromId":"29bf3bbd-c499-bbe5-03db-f7e212af03cc","fromProperty":"Success","toId":"533b071a-293e-2e7c-d803-f05677065776","toProperty":"clear"},{"fromId":"94a2aef0-4a06-4ec5-a99c-bc1592bf66e5","fromProperty":"Success","toId":"cdd525ca-0387-330a-c825-1f10ae658d8c","toProperty":"show"},{"fromId":"95ec91c3-70b7-98d5-f65c-21c9a8d15c4a","fromProperty":"onClick","toId":"c68048f2-aed4-8884-644f-7481d0a60084","toProperty":"Do"},{"fromId":"c68048f2-aed4-8884-644f-7481d0a60084","fromProperty":"valid","toId":"29bf3bbd-c499-bbe5-03db-f7e212af03cc","toProperty":"Do"},{"fromId":"8636d35d-084e-8cdc-43bd-0a2ce9eca7d8","fromProperty":"onTextChanged","toId":"c68048f2-aed4-8884-644f-7481d0a60084","toProperty":"email"},{"fromId":"c68048f2-aed4-8884-644f-7481d0a60084","fromProperty":"invalid","toId":"47261f07-ff4b-3178-a8e5-4dc29e2ee6c1","toProperty":"on"},{"fromId":"47261f07-ff4b-3178-a8e5-4dc29e2ee6c1","fromProperty":"state","toId":"083ec5ee-124e-f1da-82a7-85dce6fce8a9","toProperty":"mounted"}],"roots":[{"id":"6a92ca43-ffff-5c5d-0613-4ed255d62735","type":"Page","x":0,"y":0,"parameters":{"urlPath":"sign-up"},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"Sign-up with Firebase","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"sign-up-with-firebase","index":32}],"children":[{"id":"b25744e8-36da-8e7e-11df-46b0fbca86e1","type":"Group","label":"User Form","parameters":{"flexDirection":"column","backgroundColor":"#FFFFFF","borderRadius":{"value":8,"unit":"px"},"sizeMode":"contentHeight","clip":true},"ports":[],"dynamicports":[],"children":[{"id":"5bcf25a9-574b-6481-1f73-65dbd81e8736","type":"Text","label":"","parameters":{"text":"Create account","marginBottom":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"8636d35d-084e-8cdc-43bd-0a2ce9eca7d8","type":"net.noodl.controls.textinput","label":"Email Input","parameters":{"label":"","type":"email","placeholder":"Email","marginBottom":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"083ec5ee-124e-f1da-82a7-85dce6fce8a9","type":"Text","parameters":{"text":"Email not valid","color":"Danger","fontSize":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"533b071a-293e-2e7c-d803-f05677065776","type":"net.noodl.controls.textinput","label":"Password Input","parameters":{"label":"","type":"password","marginBottom":{"value":16,"unit":"px"},"placeholder":"Password (6 characters min)"},"ports":[],"dynamicports":[],"children":[]},{"id":"95ec91c3-70b7-98d5-f65c-21c9a8d15c4a","type":"net.noodl.controls.button","parameters":{"label":"Sign up"},"ports":[],"dynamicports":[],"children":[]},{"id":"e61a720a-cfea-1431-07b2-3cc8f92a8424","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","alignItems":"center","marginTop":{"value":16,"unit":"px"},"columnGap":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"69033f8d-7a7f-2bbb-ddcd-8da91ac59ebe","type":"Text","label":"","parameters":{"text":"Already have an account?","marginTop":{"value":0,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"eff04e03-4654-d04c-a60e-516db7583f03","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"29bf3bbd-c499-bbe5-03db-f7e212af03cc","type":"/Firebase/Firebase - User Sign-up","x":532,"y":220.55555555555554,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"b4ee77b4-79bc-f51c-2821-a78cf8ffeb9c","type":"/Firebase/Firebase - Get Current User","x":754.3333333333333,"y":189.51851851851853,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"94a2aef0-4a06-4ec5-a99c-bc1592bf66e5","type":"/Firebase/Firebase - Send Email Verification","x":757.0833333333333,"y":310.2685185185186,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"cdd525ca-0387-330a-c825-1f10ae658d8c","type":"NavigationShowPopup","x":947.95,"y":309.8685185185185,"parameters":{"target":"/Firebase/Firebase - Sent verification email popup"},"ports":[],"dynamicports":[],"children":[]},{"id":"c68048f2-aed4-8884-644f-7481d0a60084","type":"/Firebase/Email Validator","x":255,"y":461,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"47261f07-ff4b-3178-a8e5-4dc29e2ee6c1","type":"Switch","x":545.8619047619047,"y":436.03015873015875,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["6a92ca43-ffff-5c5d-0613-4ed255d62735"]}},{"name":"/Firebase/Start Page","id":"69559017-a17f-333b-c101-fbb0d1b4ce31","graph":{"connections":[{"fromId":"a4b7e4d4-c01d-1267-30b6-c2b448b90067","fromProperty":"didMount","toId":"89741cf7-ba7d-8232-1edf-cc3c268c2dc4","toProperty":"Do"}],"roots":[{"id":"a4b7e4d4-c01d-1267-30b6-c2b448b90067","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"Start Page","index":14},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"start-page","index":15}],"children":[]},{"id":"10fa011a-db2f-e573-47e6-ed69e091fbc1","type":"PageInputs","x":-248,"y":-2,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"89741cf7-ba7d-8232-1edf-cc3c268c2dc4","type":"/Firebase/Firebase - Get Current User","x":243.66666666666663,"y":0,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["a4b7e4d4-c01d-1267-30b6-c2b448b90067"]}},{"name":"/Firebase/Update Firebase Email","id":"b21e0d27-d11a-6941-6caf-1ba82b3e0932","graph":{"connections":[{"fromId":"e9b3a813-5f1f-990f-48a7-6070887f66d6","fromProperty":"onTextChanged","toId":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","toProperty":"email"},{"fromId":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","fromProperty":"Success","toId":"665eab5c-245d-5cdc-3acb-5c9e5325055b","toProperty":"show"},{"fromId":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","fromProperty":"newEmail","toId":"665eab5c-245d-5cdc-3acb-5c9e5325055b","toProperty":"popupParam-email"},{"fromId":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","fromProperty":"Error","toId":"ede02dbb-12df-83a7-646b-7b7a54059024","toProperty":"error"},{"fromId":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","fromProperty":"Error","toId":"0c81bad0-f21a-cdbe-a032-daa743899c50","toProperty":"error"},{"fromId":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","fromProperty":"Error","toId":"ae51e6e6-2b2f-5fa8-c8c3-a6f98a65d75f","toProperty":"error"},{"fromId":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","fromProperty":"Error","toId":"7e9b1eaa-c5c4-18e5-abc4-a97a7940e8fe","toProperty":"error"},{"fromId":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","fromProperty":"Failure","toId":"ede02dbb-12df-83a7-646b-7b7a54059024","toProperty":"run"},{"fromId":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","fromProperty":"Failure","toId":"0c81bad0-f21a-cdbe-a032-daa743899c50","toProperty":"run"},{"fromId":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","fromProperty":"Failure","toId":"ae51e6e6-2b2f-5fa8-c8c3-a6f98a65d75f","toProperty":"run"},{"fromId":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","fromProperty":"Failure","toId":"7e9b1eaa-c5c4-18e5-abc4-a97a7940e8fe","toProperty":"run"},{"fromId":"049dafdb-eaa7-2369-57e9-7f792c6ca68e","fromProperty":"onClick","toId":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","toProperty":"Do"},{"fromId":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","fromProperty":"Success","toId":"e9b3a813-5f1f-990f-48a7-6070887f66d6","toProperty":"clear"},{"fromId":"ede02dbb-12df-83a7-646b-7b7a54059024","fromProperty":"isTrueEv","toId":"91e419a5-a374-2e87-22c8-1241ba1e8735","toProperty":"to-Already"},{"fromId":"0c81bad0-f21a-cdbe-a032-daa743899c50","fromProperty":"isTrueEv","toId":"91e419a5-a374-2e87-22c8-1241ba1e8735","toProperty":"to-Invalid"},{"fromId":"ae51e6e6-2b2f-5fa8-c8c3-a6f98a65d75f","fromProperty":"isTrueEv","toId":"91e419a5-a374-2e87-22c8-1241ba1e8735","toProperty":"to-Requires"},{"fromId":"7e9b1eaa-c5c4-18e5-abc4-a97a7940e8fe","fromProperty":"isTrueEv","toId":"91e419a5-a374-2e87-22c8-1241ba1e8735","toProperty":"to-Failed"},{"fromId":"91e419a5-a374-2e87-22c8-1241ba1e8735","fromProperty":"Text box visible","toId":"7f2ff4b7-e529-2346-003f-413872f6fa76","toProperty":"mounted"},{"fromId":"91e419a5-a374-2e87-22c8-1241ba1e8735","fromProperty":"Already used","toId":"7f2ff4b7-e529-2346-003f-413872f6fa76","toProperty":"text"},{"fromId":"91e419a5-a374-2e87-22c8-1241ba1e8735","fromProperty":"Invalid eml","toId":"7f2ff4b7-e529-2346-003f-413872f6fa76","toProperty":"text"},{"fromId":"91e419a5-a374-2e87-22c8-1241ba1e8735","fromProperty":"Requires recent","toId":"7f2ff4b7-e529-2346-003f-413872f6fa76","toProperty":"text"},{"fromId":"91e419a5-a374-2e87-22c8-1241ba1e8735","fromProperty":"Failed upd","toId":"7f2ff4b7-e529-2346-003f-413872f6fa76","toProperty":"text"},{"fromId":"ae51e6e6-2b2f-5fa8-c8c3-a6f98a65d75f","fromProperty":"isTrueEv","toId":"879f34e1-aec3-d15c-2f0c-431d6e27a0af","toProperty":"run"}],"roots":[{"id":"c908a1dd-ccba-af4d-84cd-e49b4eb7925a","type":"Page","label":"Page Update Email","x":-268.25683817239747,"y":-192.8420108230763,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"Update Firebase Email","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"update-firebase-email","index":32}],"children":[{"id":"76bf38b9-a70e-7381-71a2-47046389e917","type":"Group","label":"Update Email form","parameters":{"flexDirection":"column","backgroundColor":"#FFFFFF","borderRadius":{"value":8,"unit":"px"},"sizeMode":"contentHeight","clip":true},"ports":[],"dynamicports":[],"children":[{"id":"7d740ba8-6b0d-b523-1e19-71562d48700d","type":"Text","label":"Update Email","parameters":{"text":"Update Email","marginBottom":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"e9b3a813-5f1f-990f-48a7-6070887f66d6","type":"net.noodl.controls.textinput","label":"Email Input","parameters":{"label":"","type":"email","placeholder":"Email","marginBottom":{"value":8,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"7f2ff4b7-e529-2346-003f-413872f6fa76","type":"Text","parameters":{"text":"","color":"Danger","fontSize":{"value":12,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"049dafdb-eaa7-2369-57e9-7f792c6ca68e","type":"net.noodl.controls.button","parameters":{"label":"Update email"},"ports":[],"dynamicports":[],"children":[]},{"id":"af10e809-94d4-d478-7c33-16a53f636b62","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","alignItems":"center","marginTop":{"value":16,"unit":"px"},"columnGap":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"54333b12-10a7-315c-a2ea-7893da94f0d6","type":"net.noodl.controls.button","parameters":{"label":"Cancel"},"ports":[],"dynamicports":[],"children":[]}]}]}]},{"id":"61308ca9-3792-f080-72da-eee662001665","type":"PageInputs","x":-317.25683817239747,"y":-240.8420108230763,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"665eab5c-245d-5cdc-3acb-5c9e5325055b","type":"NavigationShowPopup","label":"Updated Email Popup","x":238.07031709871876,"y":-211.24242269389077,"parameters":{"target":"/Firebase/Firebase - Updated email popup"},"ports":[],"dynamicports":[{"name":"popupParam-email","displayName":"email","type":"string","plug":"input","group":"Params","index":3}],"children":[]},{"id":"ede02dbb-12df-83a7-646b-7b7a54059024","type":"Expression","x":419.44531709871876,"y":-143.9507560272241,"parameters":{"expression":"error == \"Email already in use\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"error","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"0c81bad0-f21a-cdbe-a032-daa743899c50","type":"Expression","x":419.84531709871874,"y":0.582577306109215,"parameters":{"expression":"error == \"Invalid email\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"error","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"ae51e6e6-2b2f-5fa8-c8c3-a6f98a65d75f","type":"Expression","x":419.84531709871874,"y":145.36035508388704,"parameters":{"expression":"error == \"Requires recent login\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"error","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"7e9b1eaa-c5c4-18e5-abc4-a97a7940e8fe","type":"Expression","x":419.9881742415759,"y":290.4555931791251,"parameters":{"expression":"error == \"Email update failed\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"error","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"91e419a5-a374-2e87-22c8-1241ba1e8735","type":"States","x":37.567121609997,"y":94.03454054754616,"parameters":{"states":"Already,Invalid,Requires,Failed,Standby","currentState":"Standby","values":"Text box visible,Already used,Invalid eml,Requires recent,Failed upd","value-Already-Text box visible":true,"value-Invalid-Text box visible":true,"value-Requires-Text box visible":true,"value-Failed-Text box visible":true,"value-Invalid-Invalid eml":"Invalid email","value-Invalid-Already used":"","value-Requires-Requires recent":"Requires recent login","value-Failed-Failed upd":"Email update failed, please try again","type-Text box visible":"boolean","type-Already used":"string","type-Invalid eml":"string","type-Requires recent":"string","type-Failed upd":"string","value-Already-Already used":"Email already in use"},"ports":[],"dynamicports":[{"type":{"name":"boolean","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Text box visible","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Text box visible","name":"type-Text box visible","index":7},{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Already used","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Already used","name":"type-Already used","index":9},{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Invalid eml","index":10},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Invalid eml","name":"type-Invalid eml","index":11},{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Requires recent","index":12},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Requires recent","name":"type-Requires recent","index":13},{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Failed upd","index":14},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Failed upd","name":"type-Failed upd","index":15},{"plug":"input","type":"boolean","group":"Already Values","name":"value-Already-Text box visible","displayName":"Text box visible","editorName":"Already|Text box visible","index":16},{"plug":"input","type":"string","group":"Already Values","name":"value-Already-Already used","displayName":"Already used","editorName":"Already|Already used","index":17},{"plug":"input","type":"string","group":"Already Values","name":"value-Already-Invalid eml","displayName":"Invalid eml","editorName":"Already|Invalid eml","index":18},{"plug":"input","type":"string","group":"Already Values","name":"value-Already-Requires recent","displayName":"Requires recent","editorName":"Already|Requires recent","index":19},{"plug":"input","type":"string","group":"Already Values","name":"value-Already-Failed upd","displayName":"Failed upd","editorName":"Already|Failed upd","index":20},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Already Transitions","name":"transitiondef-Already","index":21},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Already","name":"to-Already","group":"Go to state","index":22},{"plug":"output","type":"boolean","displayName":"At Already","name":"at-Already","group":"Current state","index":23},{"plug":"output","type":"signal","displayName":"Has Reached Already","name":"reached-Already","group":"Current state","index":24},{"plug":"input","type":"boolean","group":"Invalid Values","name":"value-Invalid-Text box visible","displayName":"Text box visible","editorName":"Invalid|Text box visible","index":25},{"plug":"input","type":"string","group":"Invalid Values","name":"value-Invalid-Already used","displayName":"Already used","editorName":"Invalid|Already used","index":26},{"plug":"input","type":"string","group":"Invalid Values","name":"value-Invalid-Invalid eml","displayName":"Invalid eml","editorName":"Invalid|Invalid eml","index":27},{"plug":"input","type":"string","group":"Invalid Values","name":"value-Invalid-Requires recent","displayName":"Requires recent","editorName":"Invalid|Requires recent","index":28},{"plug":"input","type":"string","group":"Invalid Values","name":"value-Invalid-Failed upd","displayName":"Failed upd","editorName":"Invalid|Failed upd","index":29},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Invalid Transitions","name":"transitiondef-Invalid","index":30},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Invalid","name":"to-Invalid","group":"Go to state","index":31},{"plug":"output","type":"boolean","displayName":"At Invalid","name":"at-Invalid","group":"Current state","index":32},{"plug":"output","type":"signal","displayName":"Has Reached Invalid","name":"reached-Invalid","group":"Current state","index":33},{"plug":"input","type":"boolean","group":"Requires Values","name":"value-Requires-Text box visible","displayName":"Text box visible","editorName":"Requires|Text box visible","index":34},{"plug":"input","type":"string","group":"Requires Values","name":"value-Requires-Already used","displayName":"Already used","editorName":"Requires|Already used","index":35},{"plug":"input","type":"string","group":"Requires Values","name":"value-Requires-Invalid eml","displayName":"Invalid eml","editorName":"Requires|Invalid eml","index":36},{"plug":"input","type":"string","group":"Requires Values","name":"value-Requires-Requires recent","displayName":"Requires recent","editorName":"Requires|Requires recent","index":37},{"plug":"input","type":"string","group":"Requires Values","name":"value-Requires-Failed upd","displayName":"Failed upd","editorName":"Requires|Failed upd","index":38},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Requires Transitions","name":"transitiondef-Requires","index":39},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Requires","name":"to-Requires","group":"Go to state","index":40},{"plug":"output","type":"boolean","displayName":"At Requires","name":"at-Requires","group":"Current state","index":41},{"plug":"output","type":"signal","displayName":"Has Reached Requires","name":"reached-Requires","group":"Current state","index":42},{"plug":"input","type":"boolean","group":"Failed Values","name":"value-Failed-Text box visible","displayName":"Text box visible","editorName":"Failed|Text box visible","index":43},{"plug":"input","type":"string","group":"Failed Values","name":"value-Failed-Already used","displayName":"Already used","editorName":"Failed|Already used","index":44},{"plug":"input","type":"string","group":"Failed Values","name":"value-Failed-Invalid eml","displayName":"Invalid eml","editorName":"Failed|Invalid eml","index":45},{"plug":"input","type":"string","group":"Failed Values","name":"value-Failed-Requires recent","displayName":"Requires recent","editorName":"Failed|Requires recent","index":46},{"plug":"input","type":"string","group":"Failed Values","name":"value-Failed-Failed upd","displayName":"Failed upd","editorName":"Failed|Failed upd","index":47},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Failed Transitions","name":"transitiondef-Failed","index":48},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Failed","name":"to-Failed","group":"Go to state","index":49},{"plug":"output","type":"boolean","displayName":"At Failed","name":"at-Failed","group":"Current state","index":50},{"plug":"output","type":"signal","displayName":"Has Reached Failed","name":"reached-Failed","group":"Current state","index":51},{"plug":"input","type":"boolean","group":"Standby Values","name":"value-Standby-Text box visible","displayName":"Text box visible","editorName":"Standby|Text box visible","index":52},{"plug":"input","type":"string","group":"Standby Values","name":"value-Standby-Already used","displayName":"Already used","editorName":"Standby|Already used","index":53},{"plug":"input","type":"string","group":"Standby Values","name":"value-Standby-Invalid eml","displayName":"Invalid eml","editorName":"Standby|Invalid eml","index":54},{"plug":"input","type":"string","group":"Standby Values","name":"value-Standby-Requires recent","displayName":"Requires recent","editorName":"Standby|Requires recent","index":55},{"plug":"input","type":"string","group":"Standby Values","name":"value-Standby-Failed upd","displayName":"Failed upd","editorName":"Standby|Failed upd","index":56},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Standby Transitions","name":"transitiondef-Standby","index":57},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Standby","name":"to-Standby","group":"Go to state","index":58},{"plug":"output","type":"boolean","displayName":"At Standby","name":"at-Standby","group":"Current state","index":59},{"plug":"output","type":"signal","displayName":"Has Reached Standby","name":"reached-Standby","group":"Current state","index":60},{"plug":"input","type":{"name":"enum","enums":["Already","Invalid","Requires","Failed","Standby"]},"group":"States","displayName":"State","name":"currentState","default":"Already","index":61}],"children":[]},{"id":"1f9ec74f-35d7-249d-96be-33c05bd4e1b7","type":"/Firebase/Firebase - Update email","x":36.71916839362274,"y":-114.30853937448114,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"879f34e1-aec3-d15c-2f0c-431d6e27a0af","type":"JavaScriptFunction","label":"Function reauthenticateWithCredential","x":59.21856181058615,"y":408.8052584861021,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["c908a1dd-ccba-af4d-84cd-e49b4eb7925a"]}}],"settings":{"bodyScroll":true,"navigationPathType":"path","headCode":"<script type=\"module\">\r\n  import { initializeApp } from \"https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js\";\r\n  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, sendEmailVerification, sendPasswordResetEmail, updateEmail, updatePassword } from \"https://www.gstatic.com/firebasejs/10.7.2/firebase-auth.js\";\r\n  import { getFirestore } from \"https://www.gstatic.com/firebasejs/10.7.2/firebase-firestore.js\";\r\n\r\n  // Expose Firebase initialization and auth functions to the global scope\r\n  window.initializeApp = initializeApp;\r\n  window.getAuth = getAuth;\r\n  window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;\r\n  window.signInWithEmailAndPassword = signInWithEmailAndPassword;\r\n  window.onAuthStateChanged = onAuthStateChanged;\r\n  window.sendEmailVerification = sendEmailVerification;\r\n  window.sendPasswordResetEmail = sendPasswordResetEmail;\r\n  window.updateEmail = updateEmail;\r\n  window.updatePassword = updatePassword;\r\n  window.getFirestore = getFirestore;\r\n</script>\r\n<script src=\"https://cdn.jsdelivr.net/npm/validator/validator.min.js\"></script>\r\n<script>\r\n  window.validator = validator;\r\n</script>"},"rootNodeId":"246f9453-a119-ac78-171e-3806cf596ecc","version":"4","metadata":{"styles":{"text":{"Display":{"letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none","fontSize":{"value":"40","unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","color":"#000000"},"Headline":{"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":"32","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Title Large":{"fontFamily":"fonts/Roboto/Roboto-Bold.ttf","fontSize":{"value":"24","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120%","unit":"px"},"textTransform":"none"},"Title Medium":{"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":"20","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Title Small":{"fontFamily":"fonts/Roboto/Roboto-Bold.ttf","fontSize":{"value":"16","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Label Large":{"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":"16","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Label Medium":{"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":"14","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Label Small":{"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":"12","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Body Large":{"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":"20","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"150","unit":"%"},"textTransform":"none"},"Body Medium":{"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":"16","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"150","unit":"%"},"textTransform":"none"},"Body Small":{"letterSpacing":"Auto","lineHeight":{"value":"150","unit":"%"},"textTransform":"none","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":"14","unit":"px"},"color":"#000000"}},"colors":{"Primary":"#5836F5","Primary Dark":"#3F22B8","Primary Subtle":"#C9BFFC","Primary Light":"#F7F5FF","Grey - 900":"#1F1F1F","Grey - 800":"#383838","Grey - 700":"#4C4C4C","Grey - 600":"#757575","Grey - 500":"#A5A5A5","Grey - 400":"#CECECE","Grey - 300":"#E9E9E9","Grey - 200":"#F4F4F4","Grey - 100":"#FBFBFB","Success":"#49AD7F","Notice":"#F2C441","Danger":"#F75A4F","White":"#FFFFFF","Black":"#000000"}}},"variants":[{"typename":"Text","parameters":{"textStyle":"Body Medium"},"stateParamaters":{},"stateTransitions":{}},{"typename":"net.noodl.controls.button","parameters":{"height":{"value":40,"unit":"px"},"sizeMode":"contentWidth","backgroundColor":"Primary","iconIconSource":{"class":"material-icons","code":"home"},"iconSpacing":{"value":8,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"textStyle":"Label Medium","paddingTop":{"value":0,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"color":"#FFFFFF","minWidth":{"value":80,"unit":"px"},"useIcon":false,"iconSize":{"value":20,"unit":"px"}},"stateParamaters":{"hover":{"backgroundColor":"Primary Dark"},"pressed":{"backgroundColor":"Primary","color":"White"},"disabled":{"backgroundColor":"Grey - 300","color":"Grey - 600"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"pressed":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.textinput","parameters":{"useLabel":true,"sizeMode":"explicit","height":{"value":40,"unit":"px"},"textStyle":"Body Medium","borderStyle":"solid","borderRadius":{"value":4,"unit":"px"},"borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 700","labeltextStyle":"Label Small","paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"labelSpacing":{"value":4,"unit":"px"},"placeholder":"Type here","color":"Grey - 900","placeHolderOpacity":0.65,"enabled":true,"blockTouch":false,"useIcon":false,"iconIconSource":{"class":"material-icons","code":"home"},"iconSize":{"value":20,"unit":"px"},"iconSpacing":{"value":4,"unit":"px"},"iconColor":"Grey - 700","labelcolor":"Grey - 700"},"stateParamaters":{"hover":{"labelcolor":"Grey - 700","borderColor":"Grey - 700","borderStyle":"solid","color":"Grey - 900"},"focused":{"borderColor":"Primary","labelcolor":"Primary","borderWidth":{"value":1,"unit":"px"},"boxShadowEnabled":false,"boxShadowColor":"Primary","borderStyle":"solid"},"disabled":{"labelcolor":"Grey - 500","backgroundColor":"Grey - 200","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","color":"Grey - 600"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"focused":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"disabled":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.options","parameters":{"sizeMode":"explicit","height":{"value":40,"unit":"px"},"borderWidth":{"value":1,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"borderColor":"Grey - 700","boxShadowColor":"Dark Gray","useIcon":true,"iconIconSource":{"class":"material-icons","code":"expand_more"},"iconPlacement":"right","iconSize":{"value":20,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"textStyle":"Body Medium","paddingLeft":{"value":12,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"width":{"value":100,"unit":"%"},"iconColor":"Grey - 700","placeholderOpacity":0.65,"placeholder":"Select option","useLabel":true,"labelSpacing":{"value":4,"unit":"px"},"labeltextStyle":"Label Small","labelcolor":"Grey - 700","items":"[\n    {\"Label\":\"Option 1\", \"Value\":\"1\"},\n    {\"Label\":\"Option 2\", \"Value\":\"2\"},\n    {\"Label\":\"Option 3\", \"Value\":\"3\"}\n]"},"stateParamaters":{"hover":{"borderColor":"Grey - 700","borderRadius":{"value":4,"unit":"px"},"iconColor":"Grey - 900","iconSize":{"value":20,"unit":"px"},"iconPlacement":"right","color":"Grey - 900","labelcolor":"Grey - 700"},"focused":{"borderColor":"Primary","boxShadowColor":"Primary","borderRadius":{"value":4,"unit":"px"},"useIcon":true,"iconColor":"Primary","iconIconSource":{"class":"material-icons","code":"keyboard_arrow_up"},"iconPlacement":"right","color":"Grey - 900","labelcolor":"Primary"},"pressed":{"borderRadius":{"value":4,"unit":"px"}},"disabled":{"labelcolor":"Grey - 500","iconColor":"Grey - 500","borderColor":"Grey - 500","color":"Grey - 600","backgroundColor":"Grey - 200"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"focused":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"pressed":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.range","parameters":{"thumbColor":"Primary","thumbBorderRadius":{"value":100,"unit":"%"},"trackHeight":{"value":4,"unit":"px"},"trackActiveColor":"Primary","trackColor":"Primary Subtle","width":{"value":100,"unit":"%"},"trackBorderRadius":{"value":100,"unit":"px"},"thumbHeight":{"value":16,"unit":"px"},"thumbWidth":{"value":16,"unit":"px"}},"stateParamaters":{"hover":{"thumbColor":"Primary Dark","trackActiveColor":"Primary Dark"},"disabled":{"trackActiveColor":"Grey - 500","trackColor":"Grey - 300","thumbColor":"Grey - 500"}},"stateTransitions":{}},{"typename":"net.noodl.controls.checkbox","parameters":{"width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"},"useIcon":false,"borderWidth":{"value":1,"unit":"px"},"useLabel":true,"labeltextStyle":"Body Medium","borderRadius":{"value":2,"unit":"px"},"borderColor":"Grey - 700","labelfontSize":{"value":16,"unit":"px"},"labelcolor":"Grey - 900","labelSpacing":{"value":12,"unit":"px"}},"stateParamaters":{"checked":{"useIcon":true,"iconIconSource":{"class":"material-icons","code":"check"},"backgroundColor":"Primary","borderColor":"Primary","iconSize":{"value":16,"unit":"px"}},"disabled":{"opacity":0.5},"hover":{"borderColor":"Grey - 700"},"pressed":{}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"checked":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.radiobutton","parameters":{"width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"},"useLabel":true,"labeltextStyle":"Body Large","borderWidth":{"value":1,"unit":"px"},"value":"0","useIcon":false,"fillColor":"transparent","borderColor":"Grey - 700","labelfontSize":{"value":16,"unit":"px"},"marginBottom":{"value":8,"unit":"px"},"labelcolor":"Grey - 900","labelSpacing":{"value":12,"unit":"px"}},"stateParamaters":{"checked":{"fillColor":"Primary","borderColor":"Primary","borderWidth":{"value":1,"unit":"px"},"backgroundColor":"transparent","width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"},"fillSpacing":{"value":2,"unit":"px"}},"hover":{"backgroundColor":"transparent","borderColor":"Grey - 700","width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"}},"disabled":{"borderColor":"Grey - 500","labelcolor":"Grey - 500","fillColor":"transparent"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"checked":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"name":"Text Button","typename":"net.noodl.controls.button","parameters":{"height":{"value":40,"unit":"px"},"sizeMode":"contentSize","backgroundColor":"transparent","iconIconSource":{"class":"material-icons","code":"home"},"iconSpacing":{"value":8,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"textStyle":"Label Medium","paddingTop":{"value":0,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"color":"Primary","minWidth":{"value":0,"unit":"px"},"useIcon":false,"iconSize":{"value":20,"unit":"px"},"label":"Sign up"},"stateParamaters":{"hover":{"backgroundColor":"Primary Dark"},"pressed":{"backgroundColor":"Primary","color":"White"},"disabled":{"backgroundColor":"Grey - 300","color":"Grey - 600"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"pressed":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}}]}